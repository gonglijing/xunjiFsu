{{ define "devices.html" }}
<div class="table-container">
    <table class="table">
        <thead>
            <tr>
                <th>ID</th>
                <th>名称</th>
                <th>地址</th>
                <th>驱动</th>
                <th>采集周期</th>
                <th>状态</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            {{ range .Devices }}
            <tr>
                <td>{{ .ID }}</td>
                <td>{{ .Name }}</td>
                <td>{{ .Address }}</td>
                <td>{{ .Driver }}</td>
                <td>{{ .CollectInterval }}ms</td>
                <td>
                    {{ if eq .Enabled 1 }}
                    <span class="badge badge-running">启用</span>
                    {{ else }}
                    <span class="badge badge-stopped">禁用</span>
                    {{ end }}
                </td>
                <td>
                    <button hx-post="/api/devices/{{ .ID }}/toggle" hx-target="closest tr" class="btn btn-primary" style="padding: 4px 8px;">
                        {{ if eq .Enabled 1 }}禁用{{ else }}启用{{ end }}
                    </button>
                    <button hx-delete="/api/devices/{{ .ID }}" hx-target="closest tr" hx-confirm="确定删除?" class="btn btn-danger" style="padding: 4px 8px;">删除</button>
                </td>
            </tr>
            {{ else }}
            <tr>
                <td colspan="7" style="text-align: center; color: #6b7280; padding: 32px;">暂无设备</td>
            </tr>
            {{ end }}
        </tbody>
    </table>
</div>

{{ end }}