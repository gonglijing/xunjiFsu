{{ define "status-cards.html" }}
<div class="grid grid-cols-4 mb-8">
    <!-- 采集状态 -->
    <div class="stat-card">
        <div class="stat-card-icon {{ if .CollectorRunning }}green{{ else }}red{{ end }}">
            {{ if .CollectorRunning }}▶{{ else }}■{{ end }}
        </div>
        <div class="stat-card-label">采集状态</div>
        <div class="stat-card-value" style="color: {{ if .CollectorRunning }}#00ff7f{{ else }}#ff003f{{ end }};">
            {{ if .CollectorRunning }}运行中{{ else }}已停止{{ end }}
        </div>
        <div style="display: flex; gap: 8px; margin-top: 12px;">
            <button hx-post="/api/collector/start" hx-target="closest .stat-card" 
                    class="btn btn-success btn-sm" style="flex:1;justify-content:center;">
                ▶ 启动
            </button>
            <button hx-post="/api/collector/stop" hx-target="closest .stat-card" 
                    class="btn btn-danger btn-sm" style="flex:1;justify-content:center;">
                ■ 停止
            </button>
        </div>
    </div>
    
    <!-- 设备统计 -->
    <div class="stat-card">
        <div class="stat-card-icon blue">◎</div>
        <div class="stat-card-label">设备总数</div>
        <div class="stat-card-value">{{ .Devices.Total }}</div>
        <div style="font-size: 13px; color: var(--text-muted); margin-top: 8px;">
            <span style="color: #00ff7f;">{{ .Devices.Enabled }} 已启用</span>
        </div>
    </div>
    
    <!-- 北向配置 -->
    <div class="stat-card">
        <div class="stat-card-icon purple">◉</div>
        <div class="stat-card-label">北向配置</div>
        <div class="stat-card-value">{{ .Northbound.Total }}</div>
        <div style="font-size: 13px; color: var(--text-muted); margin-top: 8px;">
            <span style="color: #c084fc;">{{ .Northbound.Enabled }} 已启用</span>
        </div>
    </div>
    
    <!-- 报警统计 -->
    <div class="stat-card">
        <div class="stat-card-icon orange">⚠</div>
        <div class="stat-card-label">报警统计</div>
        <div class="stat-card-value">{{ .Alarms.Total }}</div>
        <div style="font-size: 13px; color: var(--text-muted); margin-top: 8px;">
            <span style="color: #ffc800;">{{ .Alarms.Unacked }} 待处理</span> · 
            <span style="color: #ff003f;">{{ .Alarms.Today }} 今日</span>
        </div>
    </div>
</div>

<!-- 次要统计 -->
<div class="grid grid-cols-4 gap-4 mb-8">
    <div class="stat-card" style="padding: 16px;">
        <div class="stat-card-label">资源数</div>
        <div class="stat-card-value" style="font-size: 24px;">{{ .Resources.Total }}</div>
    </div>
    <div class="stat-card" style="padding: 16px;">
        <div class="stat-card-label">驱动数</div>
        <div class="stat-card-value" style="font-size: 24px;">{{ .Drivers.Total }}</div>
    </div>
    <div class="stat-card" style="padding: 16px;">
        <div class="stat-card-label">更新时间</div>
        <div style="font-size: 12px; color: var(--text-muted); margin-top: 8px;">
            {{ .Timestamp.Format "15:04:05" }}
        </div>
    </div>
    <div class="stat-card" style="padding: 16px;">
        <div class="stat-card-label">系统状态</div>
        <div style="font-size: 13px; margin-top: 8px;">
            {{ if .CollectorRunning }}
            <span class="badge badge-running">正常</span>
            {{ else }}
            <span class="badge badge-stopped">停止</span>
            {{ end }}
        </div>
    </div>
</div>
{{ end }}