const Wt=(e,t)=>e===t,Jt=Symbol("solid-track"),We={equals:Wt};let yt=kt;const _e=1,Je=2,wt={owned:null,cleanups:null,context:null,owner:null};var V=null;let et=null,Vt=null,J=null,z=null,$e=null,Qe=0;function Ke(e,t){const l=J,i=V,a=e.length===0,n=t===void 0?i:t,d=a?wt:{owned:null,cleanups:null,context:n?n.context:null,owner:n},o=a?e:()=>e(()=>ye(()=>Ne(d)));V=d,J=null;try{return qe(o,!0)}finally{J=l,V=i}}function S(e,t){t=t?Object.assign({},We,t):We;const l={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=a=>(typeof a=="function"&&(a=a(l.value)),Ct(l,a));return[St.bind(l),i]}function b(e,t,l){const i=nt(e,t,!1,_e);Ie(i)}function G(e,t,l){yt=Qt;const i=nt(e,t,!1,_e);i.user=!0,$e?$e.push(i):Ie(i)}function De(e,t,l){l=l?Object.assign({},We,l):We;const i=nt(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=l.equals||void 0,Ie(i),St.bind(i)}function ye(e){if(J===null)return e();const t=J;J=null;try{return e()}finally{J=t}}function Ge(e){return V===null||(V.cleanups===null?V.cleanups=[e]:V.cleanups.push(e)),e}function St(){if(this.sources&&this.state)if(this.state===_e)Ie(this);else{const e=z;z=null,qe(()=>He(this),!1),z=e}if(J){const e=this.observers?this.observers.length:0;J.sources?(J.sources.push(this),J.sourceSlots.push(e)):(J.sources=[this],J.sourceSlots=[e]),this.observers?(this.observers.push(J),this.observerSlots.push(J.sources.length-1)):(this.observers=[J],this.observerSlots=[J.sources.length-1])}return this.value}function Ct(e,t,l){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&qe(()=>{for(let a=0;a<e.observers.length;a+=1){const n=e.observers[a],d=et&&et.running;d&&et.disposed.has(n),(d?!n.tState:!n.state)&&(n.pure?z.push(n):$e.push(n),n.observers&&Et(n)),d||(n.state=_e)}if(z.length>1e6)throw z=[],new Error},!1)),t}function Ie(e){if(!e.fn)return;Ne(e);const t=Qe;Ht(e,e.value,t)}function Ht(e,t,l){let i;const a=V,n=J;J=V=e;try{i=e.fn(t)}catch(d){return e.pure&&(e.state=_e,e.owned&&e.owned.forEach(Ne),e.owned=null),e.updatedAt=l+1,At(d)}finally{J=n,V=a}(!e.updatedAt||e.updatedAt<=l)&&(e.updatedAt!=null&&"observers"in e?Ct(e,i):e.value=i,e.updatedAt=l)}function nt(e,t,l,i=_e,a){const n={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:V,context:V?V.context:null,pure:l};return V===null||V!==wt&&(V.owned?V.owned.push(n):V.owned=[n]),n}function Ve(e){if(e.state===0)return;if(e.state===Je)return He(e);if(e.suspense&&ye(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Qe);)e.state&&t.push(e);for(let l=t.length-1;l>=0;l--)if(e=t[l],e.state===_e)Ie(e);else if(e.state===Je){const i=z;z=null,qe(()=>He(e,t[0]),!1),z=i}}function qe(e,t){if(z)return e();let l=!1;t||(z=[]),$e?l=!0:$e=[],Qe++;try{const i=e();return zt(l),i}catch(i){l||($e=null),z=null,At(i)}}function zt(e){if(z&&(kt(z),z=null),e)return;const t=$e;$e=null,t.length&&qe(()=>yt(t),!1)}function kt(e){for(let t=0;t<e.length;t++)Ve(e[t])}function Qt(e){let t,l=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[l++]=i:Ve(i)}for(t=0;t<l;t++)Ve(e[t])}function He(e,t){e.state=0;for(let l=0;l<e.sources.length;l+=1){const i=e.sources[l];if(i.sources){const a=i.state;a===_e?i!==t&&(!i.updatedAt||i.updatedAt<Qe)&&Ve(i):a===Je&&He(i,t)}}}function Et(e){for(let t=0;t<e.observers.length;t+=1){const l=e.observers[t];l.state||(l.state=Je,l.pure?z.push(l):$e.push(l),l.observers&&Et(l))}}function Ne(e){let t;if(e.sources)for(;e.sources.length;){const l=e.sources.pop(),i=e.sourceSlots.pop(),a=l.observers;if(a&&a.length){const n=a.pop(),d=l.observerSlots.pop();i<a.length&&(n.sourceSlots[d]=i,a[i]=n,l.observerSlots[i]=d)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Ne(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ne(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Gt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function At(e,t=V){throw Gt(e)}const Xt=Symbol("fallback");function gt(e){for(let t=0;t<e.length;t++)e[t]()}function Yt(e,t,l={}){let i=[],a=[],n=[],d=0,o=t.length>1?[]:null;return Ge(()=>gt(n)),()=>{let h=e()||[],c=h.length,u,s;return h[Jt],ye(()=>{let $,m,T,x,p,_,g,k,C;if(c===0)d!==0&&(gt(n),n=[],i=[],a=[],d=0,o&&(o=[])),l.fallback&&(i=[Xt],a[0]=Ke(E=>(n[0]=E,l.fallback())),d=1);else if(d===0){for(a=new Array(c),s=0;s<c;s++)i[s]=h[s],a[s]=Ke(v);d=c}else{for(T=new Array(c),x=new Array(c),o&&(p=new Array(c)),_=0,g=Math.min(d,c);_<g&&i[_]===h[_];_++);for(g=d-1,k=c-1;g>=_&&k>=_&&i[g]===h[k];g--,k--)T[k]=a[g],x[k]=n[g],o&&(p[k]=o[g]);for($=new Map,m=new Array(k+1),s=k;s>=_;s--)C=h[s],u=$.get(C),m[s]=u===void 0?-1:u,$.set(C,s);for(u=_;u<=g;u++)C=i[u],s=$.get(C),s!==void 0&&s!==-1?(T[s]=a[u],x[s]=n[u],o&&(p[s]=o[u]),s=m[s],$.set(C,s)):n[u]();for(s=_;s<c;s++)s in T?(a[s]=T[s],n[s]=x[s],o&&(o[s]=p[s],o[s](s))):a[s]=Ke(v);a=a.slice(0,d=c),i=h.slice(0)}return a});function v($){if(n[s]=$,o){const[m,T]=S(s);return o[s]=T,t(h[s],m)}return t(h[s])}}}function y(e,t){return ye(()=>e(t||{}))}const Zt=e=>`Stale read from <${e}>.`;function X(e){const t="fallback"in e&&{fallback:()=>e.fallback};return De(Yt(()=>e.each,e.children,t||void 0))}function Q(e){const t=e.keyed,l=De(()=>e.when,void 0,void 0),i=t?l:De(l,void 0,{equals:(a,n)=>!a==!n});return De(()=>{const a=i();if(a){const n=e.children;return typeof n=="function"&&n.length>0?ye(()=>n(t?a:()=>{if(!ye(i))throw Zt("Show");return l()})):n}return e.fallback},void 0,void 0)}const W=e=>De(()=>e());function el(e,t,l){let i=l.length,a=t.length,n=i,d=0,o=0,h=t[a-1].nextSibling,c=null;for(;d<a||o<n;){if(t[d]===l[o]){d++,o++;continue}for(;t[a-1]===l[n-1];)a--,n--;if(a===d){const u=n<i?o?l[o-1].nextSibling:l[n-o]:h;for(;o<n;)e.insertBefore(l[o++],u)}else if(n===o)for(;d<a;)(!c||!c.has(t[d]))&&t[d].remove(),d++;else if(t[d]===l[n-1]&&l[o]===t[a-1]){const u=t[--a].nextSibling;e.insertBefore(l[o++],t[d++].nextSibling),e.insertBefore(l[--n],u),t[a]=l[n]}else{if(!c){c=new Map;let s=o;for(;s<n;)c.set(l[s],s++)}const u=c.get(t[d]);if(u!=null)if(o<u&&u<n){let s=d,v=1,$;for(;++s<a&&s<n&&!(($=c.get(t[s]))==null||$!==u+v);)v++;if(v>u-o){const m=t[d];for(;o<u;)e.insertBefore(l[o++],m)}else e.replaceChild(l[o++],t[d++])}else d++;else t[d++].remove()}}}const bt="_$DX_DELEGATE";function Tt(e,t,l,i={}){let a;return Ke(n=>{a=n,t===document?e():r(t,e(),t.firstChild?null:void 0,l)},i.owner),()=>{a(),t.textContent=""}}function f(e,t,l,i){let a;const n=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},d=()=>(a||(a=n())).cloneNode(!0);return d.cloneNode=d,d}function Y(e,t=window.document){const l=t[bt]||(t[bt]=new Set);for(let i=0,a=e.length;i<a;i++){const n=e[i];l.has(n)||(l.add(n),t.addEventListener(n,nl))}}function ne(e,t,l){l==null?e.removeAttribute(t):e.setAttribute(t,l)}function se(e,t){t==null?e.removeAttribute("class"):e.className=t}function tl(e,t,l){if(!t)return l?ne(e,"style"):t;const i=e.style;if(typeof t=="string")return i.cssText=t;typeof l=="string"&&(i.cssText=l=void 0),l||(l={}),t||(t={});let a,n;for(n in l)t[n]==null&&i.removeProperty(n),delete l[n];for(n in t)a=t[n],a!==l[n]&&(i.setProperty(n,a),l[n]=a);return l}function ll(e,t,l){return ye(()=>e(t,l))}function r(e,t,l,i){if(l!==void 0&&!i&&(i=[]),typeof t!="function")return ze(e,t,i,l);b(a=>ze(e,t(),a,l),i)}function nl(e){let t=e.target;const l=`$$${e.type}`,i=e.target,a=e.currentTarget,n=h=>Object.defineProperty(e,"target",{configurable:!0,value:h}),d=()=>{const h=t[l];if(h&&!t.disabled){const c=t[`${l}Data`];if(c!==void 0?h.call(t,c,e):h.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&n(t.host),!0},o=()=>{for(;d()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const h=e.composedPath();n(h[0]);for(let c=0;c<h.length-2&&(t=h[c],!!d());c++){if(t._$host){t=t._$host,o();break}if(t.parentNode===a)break}}else o();n(i)}function ze(e,t,l,i,a){for(;typeof l=="function";)l=l();if(t===l)return l;const n=typeof t,d=i!==void 0;if(e=d&&l[0]&&l[0].parentNode||e,n==="string"||n==="number"){if(n==="number"&&(t=t.toString(),t===l))return l;if(d){let o=l[0];o&&o.nodeType===3?o.data!==t&&(o.data=t):o=document.createTextNode(t),l=Ce(e,l,i,o)}else l!==""&&typeof l=="string"?l=e.firstChild.data=t:l=e.textContent=t}else if(t==null||n==="boolean")l=Ce(e,l,i);else{if(n==="function")return b(()=>{let o=t();for(;typeof o=="function";)o=o();l=ze(e,o,l,i)}),()=>l;if(Array.isArray(t)){const o=[],h=l&&Array.isArray(l);if(lt(o,t,l,a))return b(()=>l=ze(e,o,l,i,!0)),()=>l;if(o.length===0){if(l=Ce(e,l,i),d)return l}else h?l.length===0?vt(e,o,i):el(e,l,o):(l&&Ce(e),vt(e,o));l=o}else if(t.nodeType){if(Array.isArray(l)){if(d)return l=Ce(e,l,i,t);Ce(e,l,null,t)}else l==null||l===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);l=t}}return l}function lt(e,t,l,i){let a=!1;for(let n=0,d=t.length;n<d;n++){let o=t[n],h=l&&l[e.length],c;if(!(o==null||o===!0||o===!1))if((c=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))a=lt(e,o,h)||a;else if(c==="function")if(i){for(;typeof o=="function";)o=o();a=lt(e,Array.isArray(o)?o:[o],Array.isArray(h)?h:[h])||a}else e.push(o),a=!0;else{const u=String(o);h&&h.nodeType===3&&h.data===u?e.push(h):e.push(document.createTextNode(u))}}return a}function vt(e,t,l=null){for(let i=0,a=t.length;i<a;i++)e.insertBefore(t[i],l)}function Ce(e,t,l,i){if(l===void 0)return e.textContent="";const a=i||document.createTextNode("");if(t.length){let n=!1;for(let d=t.length-1;d>=0;d--){const o=t[d];if(a!==o){const h=o.parentNode===e;!n&&!d?h?e.replaceChild(a,o):e.insertBefore(a,l):h&&o.remove()}else n=!0}}else e.insertBefore(a,l);return[a]}const[Lt,Dt]=S(window.location.pathname||"/"),[il,Nt]=S(new URLSearchParams(window.location.search));if(typeof window<"u"){const e=()=>{Dt(window.location.pathname||"/"),Nt(new URLSearchParams(window.location.search))};window.addEventListener("popstate",e),Ge(()=>window.removeEventListener("popstate",e))}function It(e,t={}){const l=Lt();e!==l&&(t.replace?window.history.replaceState({},"",e):window.history.pushState({},"",e),Dt(e),Nt(new URLSearchParams(window.location.search)),window.scrollTo({top:0,behavior:"smooth"}))}function rl(){return[Lt,It,il]}function ve(e,t){return t==="/"?e==="/":String(e).startsWith(t)}const it="gogw_jwt";function sl(){return localStorage.getItem(it)||""}function rt(e={}){const t=sl();return t?{...e,Authorization:`Bearer ${t}`}:e}function al(e){if(e.status===401)throw localStorage.removeItem(it),window.location.href="/login",new Error("unauthorized")}async function Pe(e,t={}){const l=await fetch(e,{credentials:"same-origin",headers:rt(t.headers),...t});return al(l),l}async function Oe(e){if(e.status===204)return null;const t=await e.text();if(!t)return null;try{const l=JSON.parse(t);if(l&&typeof l=="object"&&"success"in l){if(l.success)return l.data??null;const i=l.error||l.message||"request failed";throw new Error(i)}return l}catch{throw new Error("invalid json")}}function ol(e){e&&localStorage.setItem(it,e)}async function H(e,t={}){const l=await Pe(e,t);if(!l.ok)throw new Error(`${l.status} ${l.statusText}`);return Oe(l)}async function ie(e,t,l={}){const i=await Pe(e,{method:"POST",headers:rt({"Content-Type":"application/json",...l.headers||{}}),body:JSON.stringify(t),...l});if(!i.ok)throw new Error(`${i.status} ${i.statusText}`);return Oe(i)}async function Xe(e,t,l={}){const i=await Pe(e,{method:"PUT",headers:rt({"Content-Type":"application/json",...l.headers||{}}),body:JSON.stringify(t),...l});if(!i.ok)throw new Error(`${i.status} ${i.statusText}`);return Oe(i)}async function ke(e){const t=await Pe(e,{method:"DELETE"});if(!t.ok&&t.status!==204)throw new Error(`${t.status} ${t.statusText}`);return t.status===204?null:Oe(t)}async function dl(e,t,l={}){const i=await Pe(e,{method:"POST",body:t,...l});if(!i.ok)throw new Error(`${i.status} ${i.statusText}`);return Oe(i)}var cl=f("<div class=dropdown-menu>"),ul=f('<nav class=nav><div class="container nav-inner"><div class=nav-brand><div class=nav-logo>☰</div><div><div class=nav-title>HuShu智能网关</div><div class=nav-subtitle>工业物联网网关管理</div></div></div><div class=nav-links><div class=dropdown><button>设置 ▾</button></div><a class="btn btn-danger"href=/logout>退出'),_t=f("<a>");const hl=[{to:"/",label:"仪表盘"},{to:"/alarms",label:"报警"},{to:"/realtime",label:"实时"},{to:"/history",label:"历史"}],fl=[{to:"/resources",label:"资源"},{to:"/devices",label:"设备"},{to:"/drivers",label:"驱动"},{to:"/northbound",label:"北向"},{to:"/storage",label:"存储策略"},{to:"/thresholds",label:"阈值"}];function pl(e){const[t,l]=S(!1);let i;const a=o=>{localStorage.removeItem("gogw_jwt")},n=()=>{l(!1)},d=o=>{i&&!i.contains(o.target)&&l(!1)};return(()=>{var o=ul(),h=o.firstChild,c=h.firstChild,u=c.nextSibling,s=u.firstChild,v=s.firstChild,$=s.nextSibling;u.$$click=d,r(u,()=>hl.map(T=>(()=>{var x=_t();return x.$$click=p=>{p.preventDefault(),e.onNav(T.to),n()},r(x,()=>T.label),b(p=>{var _=T.to,g=T.to,k=`nav-link ${ve(e.path,T.to)?"active":""}`;return _!==p.e&&ne(x,"key",p.e=_),g!==p.t&&ne(x,"href",p.t=g),k!==p.a&&se(x,p.a=k),p},{e:void 0,t:void 0,a:void 0}),x})()),s);var m=i;return typeof m=="function"?ll(m,s):i=s,v.$$click=()=>l(!t()),r(s,y(Q,{get when(){return t()},get children(){var T=cl();return r(T,()=>fl.map(x=>(()=>{var p=_t();return p.$$click=_=>{_.preventDefault(),e.onNav(x.to),n()},r(p,()=>x.label),b(_=>{var g=x.to,k=x.to,C=`dropdown-item ${ve(e.path,x.to)?"active":""}`;return g!==_.e&&ne(p,"key",_.e=g),k!==_.t&&ne(p,"href",_.t=k),C!==_.a&&se(p,_.a=C),_},{e:void 0,t:void 0,a:void 0}),p})())),T}}),null),$.$$click=a,b(()=>se(v,`nav-link dropdown-toggle ${ve(e.path,"/resources")||ve(e.path,"/devices")||ve(e.path,"/drivers")||ve(e.path,"/northbound")||ve(e.path,"/storage")||ve(e.path,"/thresholds")?"active":""}`)),o})()}Y(["click"]);var $l=f("<div class=card><div class=card-body>"),gl=f("<div class=card-header>"),bl=f("<h3 class=card-title>"),vl=f("<div class=card-extra>");function ee(e){return(()=>{var t=$l(),l=t.firstChild;return r(t,(()=>{var i=W(()=>!!(e.title||e.extra));return()=>i()&&(()=>{var a=gl();return r(a,(()=>{var n=W(()=>!!e.title);return()=>n()&&(()=>{var d=bl();return r(d,()=>e.title),d})()})(),null),r(a,(()=>{var n=W(()=>!!e.extra);return()=>n()&&(()=>{var d=vl();return r(d,()=>e.extra),d})()})(),null),a})()})(),l),r(l,()=>e.children),b(i=>tl(t,e.style||"",i)),t})()}Y(["click"]);function ae(){return{show:(e,t)=>{typeof window<"u"&&window.toast&&window.toast.show(e,t)}}}Y(["click"]);var _l=f("<div class=table-container style=max-height:320px;overflow:auto><table class=table><thead><tr><th>时间</th><th>设备</th><th>字段</th><th>值</th></tr></thead><tbody>"),ml=f("<button class=btn>刷新"),xl=f("<tr><td></td><td></td><td></td><td>"),yl=f("<tr><td colspan=4 style=text-align:center;padding:16px;color:var(--text-muted)>暂无数据");function wl(){const e=ae(),[t,l]=S([]),i=()=>{H("/api/data/points").then(a=>l((a.data||a).slice(0,8))).catch(()=>e.show("error","加载实时数据失败"))};return G(()=>{i();const a=setInterval(i,4e3);Ge(()=>clearInterval(a))}),y(ee,{title:"最新采集",get extra(){return(()=>{var a=ml();return a.$$click=i,a})()},get children(){var a=_l(),n=a.firstChild,d=n.firstChild,o=d.nextSibling;return r(o,y(X,{get each(){return t()},children:h=>(()=>{var c=xl(),u=c.firstChild,s=u.nextSibling,v=s.nextSibling,$=v.nextSibling;return r(u,()=>{var m;return((m=h.collected_at)==null?void 0:m.slice(5,19))||h.CollectedAt}),r(s,()=>h.device_name||h.DeviceName),r(v,()=>h.field_name||h.FieldName),r($,()=>h.value||h.Value),b(()=>ne(c,"key",h.id||`${h.device_id}-${h.field_name}-${h.collected_at}`)),c})()}),null),r(o,y(X,{get each(){return t().length===0?[1]:[]},children:()=>yl()}),null),a}})}Y(["click"]);var Sl=f("<div class=table-container style=max-height:320px;overflow:auto><table class=table><thead><tr><th>时间</th><th>设备</th><th>字段</th><th>值</th><th>阈值</th><th>级别</th><th></th></tr></thead><tbody>"),Cl=f("<button class=btn>刷新"),kl=f('<button class="btn btn-primary"style="padding:6px 10px">确认'),El=f('<span class="text-muted text-xs">已确认'),Al=f("<tr><td></td><td></td><td></td><td></td><td></td><td><span></span></td><td>"),Tl=f("<tr><td colspan=7 style=text-align:center;padding:16px;color:var(--text-muted)>暂无告警");function Ll(){const e=ae(),[t,l]=S([]),i=()=>{H("/api/alarms").then(n=>l((n.data||n).slice(0,8))).catch(()=>e.show("error","加载告警失败"))};G(()=>{i()});const a=n=>{ie(`/api/alarms/${n}/acknowledge`,{}).then(()=>{e.show("success","已确认"),i()}).catch(()=>e.show("error","确认失败"))};return y(ee,{title:"最近告警",get extra(){return(()=>{var n=Cl();return n.$$click=i,n})()},get children(){var n=Sl(),d=n.firstChild,o=d.firstChild,h=o.nextSibling;return r(h,y(X,{get each(){return t()},children:c=>(()=>{var u=Al(),s=u.firstChild,v=s.nextSibling,$=v.nextSibling,m=$.nextSibling,T=m.nextSibling,x=T.nextSibling,p=x.firstChild,_=x.nextSibling;return r(s,()=>{var g;return((g=c.triggered_at)==null?void 0:g.slice(5,19))||c.triggered_at}),r(v,()=>c.device_id),r($,()=>c.field_name),r(m,()=>c.actual_value),r(T,()=>`${c.operator} ${c.threshold_value}`),r(p,()=>c.severity||"warn"),r(_,y(Q,{get when(){return c.acknowledged!==1},get children(){var g=kl();return g.$$click=()=>a(c.id),g}}),null),r(_,y(Q,{get when(){return c.acknowledged===1},get children(){return El()}}),null),b(()=>se(p,`badge ${c.severity==="critical"?"badge-critical":"badge-running"}`)),u})()}),null),r(h,y(X,{get each(){return t().length===0?[1]:[]},children:()=>Tl()}),null),n}})}Y(["click"]);var Dl=f("<div class=flex style=gap:12px;flex-wrap:wrap><button>");function Nl(e){const t=ae(),[l,i]=S(!1),a=()=>{i(!0);const n=e.collectorRunning?"/api/collector/stop":"/api/collector/start";ie(n,{}).then(()=>{var d;t.show("success",e.collectorRunning?"已停止采集":"已启动采集"),(d=e.onRefresh)==null||d.call(e)}).catch(()=>t.show("error","操作失败")).finally(()=>i(!1))};return y(ee,{title:"快捷操作",get children(){var n=Dl(),d=n.firstChild;return d.$$click=a,r(d,()=>e.collectorRunning?"停止采集器":"启动采集器"),b(o=>{var h=`btn ${e.collectorRunning?"btn-danger":"btn-success"}`,c=l();return h!==o.e&&se(d,o.e=h),c!==o.t&&(d.disabled=o.t=c),o},{e:void 0,t:void 0}),n}})}Y(["click"]);var Il=f('<div><div class=grid style="grid-template-columns:2fr 1fr;gap:24px"><div class=grid style=grid-template-columns:1fr;gap:24px></div><div class=grid style=grid-template-columns:1fr;gap:24px>');function mt(){const[e,t]=S(null),[l,i]=S(!0),a=()=>{H("/api/status").then(n=>t(n.data||n)).catch(()=>{}).finally(()=>i(!1))};return G(()=>{a();const n=setInterval(a,5e3);Ge(()=>clearInterval(n))}),(()=>{var n=Il(),d=n.firstChild,o=d.firstChild,h=o.nextSibling;return r(n,y(ee,{get data(){return e()},get loading(){return l()}}),d),r(o,y(wl,{}),null),r(o,y(Ll,{}),null),r(h,y(Nl,{get collectorRunning(){var c;return(c=e())==null?void 0:c.collector_running},onRefresh:a})),n})()}var ql=f('<div class=container style=max-width:420px;margin-top:48px><div class=card><div class=card-header><h3 class=card-title>登录</h3></div><form class=form><div class=form-group><label class=form-label>用户名</label><input class=form-input required></div><div class=form-group><label class=form-label>密码</label><input class=form-input type=password required></div><button class="btn btn-primary"type=submit style=width:100%;margin-top:8px>'),Pl=f('<div style="color:var(--accent-red);padding:8px 0">');function Ol(e){const[t,l]=S("admin"),[i,a]=S("123456"),[n,d]=S(""),[o,h]=S(!1),c=u=>{u.preventDefault(),h(!0),d(""),ie("/login",{username:t(),password:i()}).then(s=>{ol(s.token),window.location.replace("/")}).catch(()=>d("用户名或密码错误")).finally(()=>h(!1))};return(()=>{var u=ql(),s=u.firstChild,v=s.firstChild,$=v.nextSibling,m=$.firstChild,T=m.firstChild,x=T.nextSibling,p=m.nextSibling,_=p.firstChild,g=_.nextSibling,k=p.nextSibling;return $.addEventListener("submit",c),x.$$input=C=>l(C.target.value),g.$$input=C=>a(C.target.value),r($,(()=>{var C=W(()=>!!n());return()=>C()&&(()=>{var E=Pl();return r(E,n),E})()})(),k),r(k,()=>o()?"登录中...":"登录"),b(()=>k.disabled=o()),b(()=>x.value=t()),b(()=>g.value=i()),u})()}Y(["input"]);var jl=f("<tr><td colspan=6 style=text-align:center;padding:24px;color:var(--text-muted)>暂无资源"),Ml=f("<div class=table-container style=max-height:520px;overflow:auto><table class=table><thead><tr><th>ID</th><th>名称</th><th>类型</th><th>路径</th><th>状态</th><th>操作</th></tr></thead><tbody>"),Rl=f('<div style="color:var(--accent-red);padding:4px 0">'),Ul=f('<div class=modal-backdrop style=position:fixed;inset:0;background:rgba(0,0,0,0.45);display:flex;align-items:center;justify-content:center;z-index:1000><div class=card style=width:420px;max-width:90vw><div class=card-header><h3 class=card-title></h3></div><form class=form style="padding:12px 16px 16px"><div class=form-group><label class=form-label>名称</label><input class=form-input required></div><div class=form-group><label class=form-label>类型</label><select class=form-select><option value=serial>串口</option><option value=net>网口</option><option value=di>DI</option><option value=do>DO</option></select></div><div class=form-group><label class=form-label>路径</label><input class=form-input placeholder="如 /dev/ttyUSB0 或 eth0"required></div><div class=flex style=gap:8px;justifyContent:flex-end;marginTop:8px><button type=button class=btn>取消</button><button type=submit class="btn btn-primary">'),Bl=f("<div>"),Fl=f('<button class="btn btn-primary">新增资源'),Kl=f('<tr><td></td><td></td><td></td><td></td><td><span></span></td><td class=flex style=gap:8px><button class=btn>编辑</button><button class=btn></button><button class="btn btn-danger">删除');const Be={name:"",type:"serial",path:"",enabled:1};function Wl(){const e=ae(),[t,l]=S([]),[i,a]=S(Be),[n,d]=S(null),[o,h]=S(!1),[c,u]=S(!1),[s,v]=S(""),$=()=>{H("/api/resources").then(p=>l(p.data||p)).catch(()=>e.show("error","加载资源失败"))};G(()=>{$()});const m=p=>{p.preventDefault(),u(!0),v(""),(n()?Xe(`/api/resources/${n()}`,i()):ie("/api/resources",i())).then(()=>{e.show("success",n()?"资源已更新":"资源已创建"),a(Be),d(null),h(!1),$()}).catch(g=>{v(g.message||"保存失败"),e.show("error","保存失败")}).finally(()=>u(!1))},T=p=>{confirm("删除该资源？")&&ke(`/api/resources/${p}`).then(()=>{e.show("success","已删除"),$()}).catch(()=>e.show("error","删除失败"))},x=p=>{ie(`/api/resources/${p.id}/toggle`,{}).then($).catch(()=>e.show("error","切换失败"))};return(()=>{var p=Bl();return r(p,y(ee,{title:"资源列表",get extra(){return(()=>{var _=Fl();return _.$$click=()=>{a(Be),d(null),v(""),h(!0)},_})()},get children(){var _=Ml(),g=_.firstChild,k=g.firstChild,C=k.nextSibling;return r(C,y(X,{get each(){return t()},children:E=>(()=>{var R=Kl(),N=R.firstChild,B=N.nextSibling,F=B.nextSibling,w=F.nextSibling,L=w.nextSibling,P=L.firstChild,j=L.nextSibling,O=j.firstChild,A=O.nextSibling,K=A.nextSibling;return r(N,()=>E.id),r(B,()=>E.name),r(F,()=>E.type),r(w,()=>E.path),r(P,()=>E.enabled===1?"启用":"禁用"),O.$$click=()=>{d(E.id),a({name:E.name,type:E.type,path:E.path,enabled:E.enabled}),v(""),h(!0)},A.$$click=()=>x(E),r(A,()=>E.enabled===1?"禁用":"启用"),K.$$click=()=>T(E.id),b(()=>se(P,`badge ${E.enabled===1?"badge-running":"badge-stopped"}`)),R})()}),null),r(C,y(Q,{get when(){return t().length===0},get children(){return jl()}}),null),_}}),null),r(p,y(Q,{get when(){return o()},get children(){var _=Ul(),g=_.firstChild,k=g.firstChild,C=k.firstChild,E=k.nextSibling,R=E.firstChild,N=R.firstChild,B=N.nextSibling,F=R.nextSibling,w=F.firstChild,L=w.nextSibling,P=F.nextSibling,j=P.firstChild,O=j.nextSibling,A=P.nextSibling,K=A.firstChild,M=K.nextSibling;return r(C,()=>n()?"编辑资源":"新增资源"),E.addEventListener("submit",m),B.$$input=q=>a({...i(),name:q.target.value}),L.addEventListener("change",q=>a({...i(),type:q.target.value})),O.$$input=q=>a({...i(),path:q.target.value}),r(E,y(Q,{get when(){return s()},get children(){var q=Rl();return r(q,s),q}}),A),K.$$click=()=>{h(!1),d(null),a(Be)},r(M,(()=>{var q=W(()=>!!c());return()=>q()?"保存中...":n()?"保存":"创建"})()),b(q=>{var Z=c(),te=c();return Z!==q.e&&(K.disabled=q.e=Z),te!==q.t&&(M.disabled=q.t=te),q},{e:void 0,t:void 0}),b(()=>B.value=i().name),b(()=>L.value=i().type),b(()=>O.value=i().path),_}}),null),p})()}Y(["input","click"]);var Jl=f('<div class=grid style="grid-template-columns:repeat(3, 1fr);gap:12px"><div class=form-group><label class=form-label>串口</label><input class=form-input required></div><div class=form-group><label class=form-label>波特率</label><input class=form-input type=number required></div><div class=form-group><label class=form-label>校验位</label><select class=form-select><option value=N>None</option><option value=E>Even</option><option value=O>Odd</option></select></div><div class=form-group><label class=form-label>数据位</label><input class=form-input type=number required></div><div class=form-group><label class=form-label>停止位</label><input class=form-input type=number required>'),Vl=f('<div class=grid style="grid-template-columns:1fr 1fr;gap:12px"><div class=form-group><label class=form-label>IP 地址</label><input class=form-input required></div><div class=form-group><label class=form-label>端口</label><input class=form-input type=number required>'),Hl=f('<div class=modal-backdrop style=position:fixed;inset:0;background:rgba(0,0,0,0.45);display:flex;align-items:center;justify-content:center;z-index:1000;overflow:auto;padding:24px><div class=card style=width:640px;max-width:100%><div class=card-header><h3 class=card-title></h3><button class="btn btn-ghost"style="padding:4px 8px">✕</button></div><form class=form style="padding:0 4px"><div class=grid style="grid-template-columns:1fr 1fr;gap:12px"><div class=form-group><label class=form-label>名称</label><input class=form-input required></div><div class=form-group><label class=form-label>描述</label><input class=form-input></div></div><div class=grid style="grid-template-columns:repeat(2, 1fr);gap:12px"><div class=form-group><label class=form-label>ProductKey</label><input class=form-input></div><div class=form-group><label class=form-label>DeviceKey</label><input class=form-input></div></div><div class=form-group><label class=form-label>驱动类型</label><select class=form-select><option value=modbus_rtu>Modbus RTU (串口)</option><option value=modbus_tcp>Modbus TCP</option></select></div><div class=grid style="grid-template-columns:repeat(3, 1fr);gap:12px"><div class=form-group><label class=form-label>设备地址</label><input class=form-input required></div><div class=form-group><label class=form-label>采集周期 (ms)</label><input class=form-input type=number required></div><div class=form-group><label class=form-label>超时 (ms)</label><input class=form-input type=number></div></div><div class=form-group><label class=form-label>绑定资源</label><select class=form-select><option value>不绑定</option></select><div class="text-muted text-xs"style=margin-top:4px>同一资源串行访问，建议按驱动类型匹配。</div></div><div class=flex style=gap:8px;justifyContent:flex-end;marginTop:16px><button type=button class=btn>取消</button><button type=submit class="btn btn-primary">'),zl=f("<div>"),Ql=f('<div class="flex gap-3"><input class=form-input placeholder=搜索设备/地址/驱动 style=max-width:240px><button class=btn>刷新</button><button class="btn btn-primary">新增设备'),Gl=f('<div class=text-center style=padding:48px;color:var(--text-muted)><div class=loading-spinner style="margin:0 auto 16px"></div><div>加载中...'),Xl=f('<div style="color:var(--accent-red);padding:16px 0">'),Yl=f("<tr><td colspan=9 style=text-align:center;padding:24px;color:var(--text-muted)>暂无设备"),Zl=f("<div class=table-container style=max-height:520px;overflow:auto><table class=table><thead><tr><th>ID</th><th>名称</th><th>产品/设备Key</th><th>驱动类型</th><th>驱动</th><th>资源</th><th>周期(ms)</th><th>状态</th><th>操作</th></tr></thead><tbody>"),en=f('<tr><td></td><td></td><td style=min-width:140px><div class=text-sm></div><div class="text-muted text-xs"></div></td><td></td><td></td><td></td><td></td><td><span></span></td><td class=flex style=gap:8px><button class=btn>编辑</button><button></button><button class="btn btn-danger">删除'),tn=f('<div><div></div><div class="text-muted text-xs">'),ln=f("<span class=text-muted>未绑定"),nn=f("<option>");const Te={name:"",description:"",product_key:"",device_key:"",driver_type:"modbus_rtu",serial_port:"/dev/ttyS0",baud_rate:9600,data_bits:8,stop_bits:1,parity:"N",ip_address:"",port_num:502,device_address:"1",collect_interval:1e3,timeout:1e3,resource_id:null,enabled:1};function rn(){const e=ae(),[t,l]=S([]),[i,a]=S([]),[n,d]=S(!0),[o,h]=S(""),[c,u]=S(""),[s,v]=S(Te),[$,m]=S(null),[T,x]=S(!1),[p,_]=S(!1),g=()=>{d(!0),Promise.all([H("/api/devices"),H("/api/resources")]).then(([w,L])=>{l(w.data||w),a(L.data||L),h("")}).catch(()=>h("加载设备或资源失败")).finally(()=>d(!1))};G(()=>{g()});const k=()=>{const w=c().trim().toLowerCase();return w?t().filter(L=>[L.name,L.device_address,L.driver_type,L.driver_name].filter(Boolean).some(P=>P.toLowerCase().includes(w))):t()},C=w=>{w.preventDefault(),_(!0),($()?Xe(`/api/devices/${$()}`,s()):ie("/api/devices",s())).then(()=>{e.show("success",$()?"设备已更新":"设备已创建"),v(Te),m(null),x(!1),g()}).catch(()=>e.show("error","操作失败")).finally(()=>_(!1))},E=w=>{ie(`/api/devices/${w}/toggle`,{}).then(g).catch(()=>e.show("error","切换失败"))},R=w=>{confirm("确定删除该设备？")&&ke(`/api/devices/${w}`).then(()=>{e.show("success","已删除"),g()}).catch(()=>e.show("error","删除失败"))},N=()=>{v(Te),m(null),x(!0)},B=w=>{m(w.id),v({name:w.name,description:w.description||"",product_key:w.product_key||"",device_key:w.device_key||"",driver_type:w.driver_type,serial_port:w.serial_port||"/dev/ttyS0",baud_rate:w.baud_rate||9600,data_bits:w.data_bits||8,stop_bits:w.stop_bits||1,parity:w.parity||"N",ip_address:w.ip_address||"",port_num:w.port_num||502,device_address:w.device_address||"1",collect_interval:w.collect_interval||1e3,timeout:w.timeout||1e3,resource_id:w.resource_id,enabled:w.enabled}),x(!0)},F=()=>i().length?s().driver_type==="modbus_rtu"?i().filter(w=>w.type==="serial"):s().driver_type==="modbus_tcp"?i().filter(w=>w.type==="net"):i():[];return(()=>{var w=zl();return r(w,y(ee,{title:"设备列表",get extra(){return(()=>{var L=Ql(),P=L.firstChild,j=P.nextSibling,O=j.nextSibling;return P.$$input=A=>u(A.target.value),j.$$click=g,O.$$click=N,b(()=>P.value=c()),L})()},get children(){return W(()=>!!n())()?Gl():W(()=>!!o())()?(()=>{var L=Xl();return r(L,o),L})():(()=>{var L=Zl(),P=L.firstChild,j=P.firstChild,O=j.nextSibling;return r(O,y(X,{get each(){return k()},children:A=>(()=>{var K=en(),M=K.firstChild,q=M.nextSibling,Z=q.nextSibling,te=Z.firstChild,he=te.nextSibling,ge=Z.nextSibling,re=ge.nextSibling,oe=re.nextSibling,U=oe.nextSibling,ce=U.nextSibling,I=ce.firstChild,de=ce.nextSibling,me=de.firstChild,xe=me.nextSibling,je=xe.nextSibling;return r(M,()=>A.id),r(q,()=>A.name),r(te,()=>A.product_key||"-"),r(he,()=>A.device_key||""),r(ge,()=>A.driver_type),r(re,()=>A.driver_name||(A.driver_id?`驱动 #${A.driver_id}`:"-")),r(oe,(()=>{var fe=W(()=>!!A.resource_name);return()=>fe()?(()=>{var be=tn(),ue=be.firstChild,Me=ue.nextSibling;return r(ue,()=>A.resource_name),r(Me,()=>A.resource_path),be})():ln()})()),r(U,()=>A.collect_interval),r(I,()=>A.enabled===1?"采集中":"停止"),me.$$click=()=>B(A),xe.$$click=()=>E(A.id),r(xe,()=>A.enabled===1?"停止":"启动"),je.$$click=()=>R(A.id),b(fe=>{var be=`badge ${A.enabled===1?"badge-running":"badge-stopped"}`,ue=`btn ${A.enabled===1?"btn-danger":"btn-success"}`;return be!==fe.e&&se(I,fe.e=be),ue!==fe.t&&se(xe,fe.t=ue),fe},{e:void 0,t:void 0}),K})()}),null),r(O,y(Q,{get when(){return k().length===0},get children(){return Yl()}}),null),L})()}}),null),r(w,y(Q,{get when(){return T()},get children(){var L=Hl(),P=L.firstChild,j=P.firstChild,O=j.firstChild,A=O.nextSibling,K=j.nextSibling,M=K.firstChild,q=M.firstChild,Z=q.firstChild,te=Z.nextSibling,he=q.nextSibling,ge=he.firstChild,re=ge.nextSibling,oe=M.nextSibling,U=oe.firstChild,ce=U.firstChild,I=ce.nextSibling,de=U.nextSibling,me=de.firstChild,xe=me.nextSibling,je=oe.nextSibling,fe=je.firstChild,be=fe.nextSibling,ue=je.nextSibling,Me=ue.firstChild,qt=Me.firstChild,st=qt.nextSibling,at=Me.nextSibling,Pt=at.firstChild,ot=Pt.nextSibling,Ot=at.nextSibling,jt=Ot.firstChild,dt=jt.nextSibling,ct=ue.nextSibling,Mt=ct.firstChild,Re=Mt.nextSibling;Re.firstChild;var Rt=ct.nextSibling,Ye=Rt.firstChild,ut=Ye.nextSibling;return r(O,()=>$()?"编辑设备":"新增设备"),A.$$click=()=>{x(!1),m(null),v(Te)},K.addEventListener("submit",C),te.$$input=D=>v({...s(),name:D.target.value}),re.$$input=D=>v({...s(),description:D.target.value}),I.$$input=D=>v({...s(),product_key:D.target.value}),xe.$$input=D=>v({...s(),device_key:D.target.value}),be.addEventListener("change",D=>v({...s(),driver_type:D.target.value,resource_id:null})),r(K,y(Q,{get when(){return s().driver_type==="modbus_rtu"},get children(){var D=Jl(),le=D.firstChild,we=le.firstChild,Ee=we.nextSibling,Ue=le.nextSibling,Ze=Ue.firstChild,Ae=Ze.nextSibling,Se=Ue.nextSibling,Ut=Se.firstChild,ht=Ut.nextSibling,ft=Se.nextSibling,Bt=ft.firstChild,pt=Bt.nextSibling,Ft=ft.nextSibling,Kt=Ft.firstChild,$t=Kt.nextSibling;return Ee.$$input=pe=>v({...s(),serial_port:pe.target.value}),Ae.$$input=pe=>v({...s(),baud_rate:+pe.target.value}),ht.addEventListener("change",pe=>v({...s(),parity:pe.target.value})),pt.$$input=pe=>v({...s(),data_bits:+pe.target.value}),$t.$$input=pe=>v({...s(),stop_bits:+pe.target.value}),b(()=>Ee.value=s().serial_port),b(()=>Ae.value=s().baud_rate),b(()=>ht.value=s().parity),b(()=>pt.value=s().data_bits),b(()=>$t.value=s().stop_bits),D}}),ue),r(K,y(Q,{get when(){return s().driver_type==="modbus_tcp"},get children(){var D=Vl(),le=D.firstChild,we=le.firstChild,Ee=we.nextSibling,Ue=le.nextSibling,Ze=Ue.firstChild,Ae=Ze.nextSibling;return Ee.$$input=Se=>v({...s(),ip_address:Se.target.value}),Ae.$$input=Se=>v({...s(),port_num:+Se.target.value}),b(()=>Ee.value=s().ip_address),b(()=>Ae.value=s().port_num),D}}),ue),st.$$input=D=>v({...s(),device_address:D.target.value}),ot.$$input=D=>v({...s(),collect_interval:+D.target.value}),dt.$$input=D=>v({...s(),timeout:+D.target.value}),Re.addEventListener("change",D=>v({...s(),resource_id:D.target.value?Number(D.target.value):null})),r(Re,()=>F().map(D=>(()=>{var le=nn();return r(le,()=>`${D.name} (${D.path})`),b(()=>ne(le,"key",D.id)),b(()=>le.value=D.id),le})()),null),Ye.$$click=()=>{x(!1),m(null),v(Te)},r(ut,(()=>{var D=W(()=>!!p());return()=>D()?"保存中...":$()?"保存":"创建"})()),b(D=>{var le=p(),we=p();return le!==D.e&&(Ye.disabled=D.e=le),we!==D.t&&(ut.disabled=D.t=we),D},{e:void 0,t:void 0}),b(()=>te.value=s().name),b(()=>re.value=s().description),b(()=>I.value=s().product_key),b(()=>xe.value=s().device_key),b(()=>be.value=s().driver_type),b(()=>st.value=s().device_address),b(()=>ot.value=s().collect_interval),b(()=>dt.value=s().timeout),b(()=>Re.value=s().resource_id??""),L}}),null),w})()}Y(["click","input"]);function sn(){return y(rn,{})}var an=f('<label class="btn btn-primary"style=cursor:pointer>上传驱动<input type=file accept=.wasm style=display:none>'),on=f('<div class=text-center style=padding:48px;color:var(--text-muted)><div class=loading-spinner style="margin:0 auto 16px"></div><div>加载中...'),dn=f('<div style="color:var(--accent-red);padding:16px 0">'),cn=f("<div class=table-container style=max-height:520px;overflow:auto><table class=table><thead><tr><th>ID</th><th>名称</th><th>文件</th><th>大小</th><th>操作</th></tr></thead><tbody>"),un=f('<tr><td></td><td></td><td></td><td></td><td class=flex style=gap:8px><a class=btn>下载</a><button class="btn btn-danger">删除'),hn=f("<tr><td colspan=5 style=text-align:center;padding:24px;color:var(--text-muted)>暂无驱动");function fn(){const e=ae(),[t,l]=S([]),[i,a]=S(!0),[n,d]=S(""),o=()=>{a(!0),H("/api/drivers").then(u=>{l(u.data||u),d("")}).catch(()=>d("加载驱动失败")).finally(()=>a(!1))};G(()=>{o()});const h=(u,s)=>{confirm(`删除驱动 ${s} ？`)&&ke(`/api/drivers/${u}`).then(()=>{e.show("success","已删除"),o()}).catch(()=>e.show("error","删除失败"))},c=u=>{var $;const s=($=u.target.files)==null?void 0:$[0];if(!s)return;const v=new FormData;v.append("file",s),dl("/api/drivers/upload",v).then(()=>{e.show("success","上传成功"),o()}).catch(()=>e.show("error","上传失败")).finally(()=>{u.target.value=""})};return y(ee,{title:"驱动管理",get extra(){return(()=>{var u=an(),s=u.firstChild,v=s.nextSibling;return v.addEventListener("change",c),u})()},get children(){return W(()=>!!i())()?on():W(()=>!!n())()?(()=>{var u=dn();return r(u,n),u})():(()=>{var u=cn(),s=u.firstChild,v=s.firstChild,$=v.nextSibling;return r($,y(X,{get each(){return t()},children:m=>(()=>{var T=un(),x=T.firstChild,p=x.nextSibling,_=p.nextSibling,g=_.nextSibling,k=g.nextSibling,C=k.firstChild,E=C.nextSibling;return r(x,()=>m.id),r(p,()=>m.name),r(_,()=>m.filename||m.file_path||""),r(g,(()=>{var R=W(()=>!!m.size);return()=>R()?(m.size/1024).toFixed(1)+" KB":"-"})()),E.$$click=()=>h(m.id,m.name),b(()=>ne(C,"href",`/api/drivers/${m.id}/download`)),T})()}),null),r($,y(X,{get each(){return t().length===0?[1]:[]},children:()=>hn()}),null),u})()}})}Y(["click"]);function pn(){return y(fn,{})}var $n=f('<div class=modal-backdrop style=position:fixed;inset:0;background:rgba(0,0,0,0.45);display:flex;align-items:center;justify-content:center;z-index:1000><div class=card style=width:480px;max-width:90vw><div class=card-header><h3 class=card-title></h3><button class="btn btn-ghost"style="padding:4px 8px">✕</button></div><form class=form style="padding:12px 16px 16px"><div class=form-group><label class=form-label>名称</label><input class=form-input placeholder=配置名称 required></div><div class=grid style="grid-template-columns:1fr 1fr;gap:12px"><div class=form-group><label class=form-label>类型</label><select class=form-select><option value=http>HTTP</option><option value=mqtt>MQTT</option><option value=xunji>寻迹</option></select></div><div class=form-group><label class=form-label>上传间隔 (ms)</label><input class=form-input type=number required></div></div><div class=form-group><label class=form-label>配置 (JSON)</label><textarea class=form-input rows=5 placeholder="{ &quot;url&quot;: &quot;http://...&quot;, &quot;method&quot;: &quot;POST&quot; }"style=font-family:monospace;font-size:13px></textarea></div><div class=flex style=gap:8px;justifyContent:flex-end;marginTop:8px><button type=button class=btn>取消</button><button type=submit class="btn btn-primary">'),gn=f("<div>"),bn=f('<button class="btn btn-primary">新增配置'),vn=f('<div class=text-center style=padding:48px;color:var(--text-muted)><div class=loading-spinner style="margin:0 auto 16px"></div><div>加载中...'),_n=f("<tr><td colspan=6 style=text-align:center;padding:24px;color:var(--text-muted)>暂无配置"),mn=f("<div class=table-container style=max-height:520px;overflow:auto><table class=table><thead><tr><th>ID</th><th>名称</th><th>类型</th><th>上传间隔(ms)</th><th>状态</th><th>操作</th></tr></thead><tbody>"),xn=f('<tr><td></td><td></td><td><span class="badge badge-info"></span></td><td></td><td><span></span></td><td class=flex style=gap:8px><button class=btn>编辑</button><button class=btn></button><button class="btn btn-danger">删除');const Le={name:"",type:"http",upload_interval:5e3,config:"{}",enabled:1};function yn(){const e=ae(),[t,l]=S([]),[i,a]=S(!0),[n,d]=S(Le),[o,h]=S(null),[c,u]=S(!1),[s,v]=S(!1),$=()=>{a(!0),H("/api/northbound").then(g=>l(g.data||g)).catch(()=>e.show("error","加载北向配置失败")).finally(()=>a(!1))};G(()=>{$()});const m=g=>{g.preventDefault(),v(!0),(o()?Xe(`/api/northbound/${o()}`,n()):ie("/api/northbound",n())).then(()=>{e.show("success",o()?"已更新":"已创建"),d(Le),h(null),u(!1),$()}).catch(()=>e.show("error","操作失败")).finally(()=>v(!1))},T=(g,k)=>{ie(`/api/northbound/${g}/toggle`,{}).then($).catch(()=>e.show("error","切换失败"))},x=g=>{confirm("删除该配置？")&&ke(`/api/northbound/${g}`).then(()=>{e.show("success","已删除"),$()}).catch(()=>e.show("error","删除失败"))},p=()=>{d(Le),h(null),u(!0)},_=g=>{h(g.id),d({name:g.name,type:g.type,upload_interval:g.upload_interval,config:g.config,enabled:g.enabled}),u(!0)};return(()=>{var g=gn();return r(g,y(ee,{title:"北向配置列表",get extra(){return(()=>{var k=bn();return k.$$click=p,k})()},get children(){return W(()=>!!i())()?vn():(()=>{var k=mn(),C=k.firstChild,E=C.firstChild,R=E.nextSibling;return r(R,y(X,{get each(){return t()},children:N=>(()=>{var B=xn(),F=B.firstChild,w=F.nextSibling,L=w.nextSibling,P=L.firstChild,j=L.nextSibling,O=j.nextSibling,A=O.firstChild,K=O.nextSibling,M=K.firstChild,q=M.nextSibling,Z=q.nextSibling;return r(F,()=>N.id),r(w,()=>N.name),r(P,()=>N.type.toUpperCase()),r(j,()=>N.upload_interval),r(A,()=>N.enabled===1?"启用":"禁用"),M.$$click=()=>_(N),q.$$click=()=>T(N.id,N.enabled===1),r(q,()=>N.enabled===1?"禁用":"启用"),Z.$$click=()=>x(N.id),b(()=>se(A,`badge ${N.enabled===1?"badge-running":"badge-stopped"}`)),B})()}),null),r(R,y(Q,{get when(){return t().length===0},get children(){return _n()}}),null),k})()}}),null),r(g,y(Q,{get when(){return c()},get children(){var k=$n(),C=k.firstChild,E=C.firstChild,R=E.firstChild,N=R.nextSibling,B=E.nextSibling,F=B.firstChild,w=F.firstChild,L=w.nextSibling,P=F.nextSibling,j=P.firstChild,O=j.firstChild,A=O.nextSibling,K=j.nextSibling,M=K.firstChild,q=M.nextSibling,Z=P.nextSibling,te=Z.firstChild,he=te.nextSibling,ge=Z.nextSibling,re=ge.firstChild,oe=re.nextSibling;return r(R,()=>o()?"编辑北向配置":"新增北向配置"),N.$$click=()=>{u(!1),h(null),d(Le)},B.addEventListener("submit",m),L.$$input=U=>d({...n(),name:U.target.value}),A.addEventListener("change",U=>d({...n(),type:U.target.value})),q.$$input=U=>d({...n(),upload_interval:+U.target.value}),he.$$input=U=>d({...n(),config:U.target.value}),re.$$click=()=>{u(!1),h(null),d(Le)},r(oe,(()=>{var U=W(()=>!!s());return()=>U()?"保存中...":o()?"保存":"创建"})()),b(U=>{var ce=s(),I=s();return ce!==U.e&&(re.disabled=U.e=ce),I!==U.t&&(oe.disabled=U.t=I),U},{e:void 0,t:void 0}),b(()=>L.value=n().name),b(()=>A.value=n().type),b(()=>q.value=n().upload_interval),b(()=>he.value=n().config),k}}),null),g})()}Y(["click","input"]);function wn(){return y(yn,{})}var Sn=f("<div class=table-container style=max-height:520px;overflow:auto><table class=table><thead><tr><th>ID</th><th>设备</th><th>字段</th><th>条件</th><th>严重性</th><th>状态</th><th>操作</th></tr></thead><tbody>"),Cn=f('<div style="color:var(--accent-red);padding:4px 0">'),kn=f('<div class=modal-backdrop style=position:fixed;inset:0;background:rgba(0,0,0,0.45);display:flex;align-items:center;justify-content:center;z-index:1000><div class=card style=width:440px;max-width:92vw><div class=card-header><h3 class=card-title>新增阈值</h3></div><form class=form style="padding:12px 16px 16px"><div class=form-group><label class=form-label>设备</label><select class=form-select required><option value>选择设备</option></select></div><div class=form-group><label class=form-label>字段名</label><input class=form-input required></div><div class=grid style="gridTemplateColumns:1fr 1fr;gap:12px"><div class=form-group><label class=form-label>运算符</label><select class=form-select><option value=">">大于 &gt;</option><option value=">=">大于等于 &gt;=</option><option value="<">小于 &lt;</option><option value="<=">小于等于 &lt;=</option><option value="==">等于 ==</option></select></div><div class=form-group><label class=form-label>阈值</label><input class=form-input type=number required></div></div><div class=form-group><label class=form-label>严重程度</label><select class=form-select><option value=warning>warning</option><option value=critical>critical</option></select></div><div class=form-group><label class=form-label>报警消息</label><input class=form-input></div><div class=flex style=gap:8px;justifyContent:flex-end;marginTop:8px><button type=button class=btn>取消</button><button type=submit class="btn btn-primary">'),En=f("<div>"),An=f('<button class="btn btn-primary">新增阈值'),Tn=f('<tr><td></td><td></td><td></td><td> </td><td></td><td><span></span></td><td><button class="btn btn-danger">删除'),Ln=f("<tr><td colspan=7 style=text-align:center;padding:24px;color:var(--text-muted)>暂无阈值"),Dn=f("<option>");const Fe={device_id:"",field_name:"",operator:">",value:0,severity:"warning",message:"",enabled:1};function Nn(){const e=ae(),[t,l]=S([]),[i,a]=S([]),[n,d]=S(Fe),[o,h]=S(!1),[c,u]=S(!1),[s,v]=S(""),$=()=>{H("/api/thresholds").then(p=>l(p.data||p)).catch(()=>e.show("error","加载阈值失败"))},m=()=>{H("/api/devices").then(p=>a(p.data||p)).catch(()=>{})};G(()=>{$(),m()});const T=p=>{p.preventDefault(),u(!0),v(""),ie("/api/thresholds",n()).then(()=>{e.show("success","阈值已创建"),d(Fe),h(!1),$()}).catch(_=>{v(_.message||"创建失败"),e.show("error","创建失败")}).finally(()=>u(!1))},x=p=>{confirm("删除该阈值？")&&ke(`/api/thresholds/${p}`).then(()=>{e.show("success","已删除"),$()}).catch(()=>e.show("error","删除失败"))};return(()=>{var p=En();return r(p,y(ee,{title:"阈值配置列表",get extra(){return(()=>{var _=An();return _.$$click=()=>{d(Fe),v(""),h(!0)},_})()},get children(){var _=Sn(),g=_.firstChild,k=g.firstChild,C=k.nextSibling;return r(C,y(X,{get each(){return t()},children:E=>(()=>{var R=Tn(),N=R.firstChild,B=N.nextSibling,F=B.nextSibling,w=F.nextSibling,L=w.firstChild,P=w.nextSibling,j=P.nextSibling,O=j.firstChild,A=j.nextSibling,K=A.firstChild;return r(N,()=>E.id),r(B,()=>E.device_id),r(F,()=>E.field_name),r(w,()=>E.operator,L),r(w,()=>E.value,null),r(P,()=>E.severity),r(O,()=>E.enabled===1?"启用":"禁用"),K.$$click=()=>x(E.id),b(()=>se(O,`badge ${E.enabled===1?"badge-running":"badge-stopped"}`)),R})()}),null),r(C,y(X,{get each(){return t().length===0?[1]:[]},children:()=>Ln()}),null),_}}),null),r(p,y(Q,{get when(){return o()},get children(){var _=kn(),g=_.firstChild,k=g.firstChild,C=k.nextSibling,E=C.firstChild,R=E.firstChild,N=R.nextSibling;N.firstChild;var B=E.nextSibling,F=B.firstChild,w=F.nextSibling,L=B.nextSibling,P=L.firstChild,j=P.firstChild,O=j.nextSibling,A=P.nextSibling,K=A.firstChild,M=K.nextSibling,q=L.nextSibling,Z=q.firstChild,te=Z.nextSibling,he=q.nextSibling,ge=he.firstChild,re=ge.nextSibling,oe=he.nextSibling,U=oe.firstChild,ce=U.nextSibling;return C.addEventListener("submit",T),N.addEventListener("change",I=>d({...n(),device_id:+I.target.value})),r(N,()=>i().map(I=>(()=>{var de=Dn();return r(de,()=>I.name||I.id),b(()=>ne(de,"key",I.id)),b(()=>de.value=I.id),de})()),null),w.$$input=I=>d({...n(),field_name:I.target.value}),O.addEventListener("change",I=>d({...n(),operator:I.target.value})),M.$$input=I=>d({...n(),value:+I.target.value}),te.addEventListener("change",I=>d({...n(),severity:I.target.value})),re.$$input=I=>d({...n(),message:I.target.value}),r(C,y(Q,{get when(){return s()},get children(){var I=Cn();return r(I,s),I}}),oe),U.$$click=()=>{h(!1),d(Fe)},r(ce,()=>c()?"创建中...":"创建"),b(I=>{var de=c(),me=c();return de!==I.e&&(U.disabled=I.e=de),me!==I.t&&(ce.disabled=I.t=me),I},{e:void 0,t:void 0}),b(()=>N.value=n().device_id),b(()=>w.value=n().field_name),b(()=>O.value=n().operator),b(()=>M.value=n().value),b(()=>te.value=n().severity),b(()=>re.value=n().message),_}}),null),p})()}Y(["input","click"]);function In(){return y(Nn,{})}var qn=f("<div class=table-container style=max-height:600px;overflow:auto><table class=table><thead><tr><th>时间</th><th>设备ID</th><th>字段</th><th>实际值</th><th>阈值条件</th><th>级别</th><th>消息</th><th>状态</th><th>操作</th></tr></thead><tbody>"),Pn=f("<button class=btn>刷新"),On=f("<tr><td></td><td></td><td></td><td></td><td></td><td><span></span></td><td></td><td></td><td>"),jn=f('<span class="text-muted text-xs">已确认'),Mn=f("<span class=text-warning>未确认"),Rn=f('<button class="btn btn-primary btn-sm">确认'),Un=f("<tr><td colspan=9 style=text-align:center;padding:24px;color:var(--text-muted)>暂无告警");function Bn(){const e=ae(),[t,l]=S([]),i=()=>{H("/api/alarms").then(n=>l(n.data||n)).catch(()=>e.show("error","加载告警失败"))};G(()=>{i()});const a=n=>{ie(`/api/alarms/${n}/acknowledge`,{}).then(()=>{e.show("success","已确认"),i()}).catch(()=>e.show("error","确认失败"))};return y(ee,{title:"报警日志",get extra(){return(()=>{var n=Pn();return n.$$click=i,n})()},get children(){var n=qn(),d=n.firstChild,o=d.firstChild,h=o.nextSibling;return r(h,y(X,{get each(){return t()},children:c=>(()=>{var u=On(),s=u.firstChild,v=s.nextSibling,$=v.nextSibling,m=$.nextSibling,T=m.nextSibling,x=T.nextSibling,p=x.firstChild,_=x.nextSibling,g=_.nextSibling,k=g.nextSibling;return r(s,()=>{var C;return((C=c.triggered_at)==null?void 0:C.slice(5,19))||c.triggered_at}),r(v,()=>c.device_id),r($,()=>c.field_name),r(m,()=>c.actual_value),r(T,()=>`${c.operator} ${c.threshold_value}`),r(p,()=>c.severity||"warn"),r(_,()=>c.message||"-"),r(g,(()=>{var C=W(()=>c.acknowledged===1);return()=>C()?jn():Mn()})()),r(k,(()=>{var C=W(()=>c.acknowledged!==1);return()=>C()&&(()=>{var E=Rn();return E.$$click=()=>a(c.id),E})()})()),b(()=>se(p,`badge ${c.severity==="critical"?"badge-critical":"badge-running"}`)),u})()}),null),r(h,y(X,{get each(){return t().length===0?[1]:[]},children:()=>Un()}),null),n}})}Y(["click"]);var Fn=f("<select class=form-select>"),Kn=f("<option>"),Wn=f("<div style=padding:24px>加载中..."),Jn=f("<div class=table-container style=max-height:520px;overflow:auto><table class=table><thead><tr><th>时间</th><th>设备</th><th>字段</th><th>值</th></tr></thead><tbody>"),Vn=f("<tr><td></td><td></td><td></td><td>"),Hn=f("<tr><td colspan=4 style=text-align:center;padding:24px;color:var(--text-muted)>暂无数据");function zn(){const e=ae(),[t,l]=S([]),[i,a]=S(""),[n,d]=S([]),[o,h]=S(!1);return G(()=>{H("/api/devices").then(c=>{const u=c.data||c;l(u),u.length&&a(String(u[0].id))}).catch(()=>e.show("error","加载设备失败"))}),G(()=>{i()&&(h(!0),H(`/api/data/points/${i()}`).then(c=>d(c.data||c)).catch(()=>e.show("error","加载实时数据失败")).finally(()=>h(!1)))}),y(ee,{title:"实时数据",get extra(){return(()=>{var c=Fn();return c.addEventListener("change",u=>a(u.target.value)),r(c,()=>t().map(u=>(()=>{var s=Kn();return r(s,()=>u.name||u.id),b(()=>ne(s,"key",u.id)),b(()=>s.value=u.id),s})())),b(()=>c.value=i()),c})()},get children(){return W(()=>!!o())()?Wn():(()=>{var c=Jn(),u=c.firstChild,s=u.firstChild,v=s.nextSibling;return r(v,()=>n().map($=>(()=>{var m=Vn(),T=m.firstChild,x=T.nextSibling,p=x.nextSibling,_=p.nextSibling;return r(T,()=>$.collected_at||$.CollectedAt||""),r(x,()=>$.device_name||""),r(p,()=>$.field_name||""),r(_,()=>$.value),b(()=>ne(m,"key",$.id||`${$.device_id}-${$.collected_at}-${$.field_name}`)),m})()),null),r(v,(()=>{var $=W(()=>n().length===0);return()=>$()&&Hn()})(),null),c})()}})}var Qn=f('<div class="flex gap-3"><select class=form-select><option value>全部设备</option></select><button class=btn>刷新'),Gn=f("<option>"),Xn=f("<div style=padding:24px>加载中..."),Yn=f("<div class=table-container style=max-height:520px;overflow:auto><table class=table><thead><tr><th>时间</th><th>设备</th><th>字段</th><th>值</th></tr></thead><tbody>"),Zn=f("<tr><td></td><td></td><td></td><td>"),ei=f("<tr><td colspan=4 style=text-align:center;padding:24px;color:var(--text-muted)>暂无历史数据");function ti(){const e=ae(),[t,l]=S(""),[i,a]=S([]),[n,d]=S(!1),[o,h]=S([]);G(()=>{H("/api/devices").then(u=>h(u.data||u)).catch(()=>{})});const c=()=>{d(!0);const u=t()?`/api/data/history?device_id=${t()}`:"/api/data/history";H(u).then(s=>a(s.data||s)).catch(()=>e.show("error","加载历史数据失败")).finally(()=>d(!1))};return G(()=>{c()}),y(ee,{title:"历史数据",get extra(){return(()=>{var u=Qn(),s=u.firstChild;s.firstChild;var v=s.nextSibling;return s.addEventListener("change",$=>l($.target.value)),r(s,()=>o().map($=>(()=>{var m=Gn();return r(m,()=>$.name||$.id),b(()=>ne(m,"key",$.id)),b(()=>m.value=$.id),m})()),null),v.$$click=c,b(()=>s.value=t()),u})()},get children(){return W(()=>!!n())()?Xn():(()=>{var u=Yn(),s=u.firstChild,v=s.firstChild,$=v.nextSibling;return r($,()=>i().map(m=>(()=>{var T=Zn(),x=T.firstChild,p=x.nextSibling,_=p.nextSibling,g=_.nextSibling;return r(x,()=>{var k;return((k=m.collected_at)==null?void 0:k.slice(0,19))||m.CollectedAt}),r(p,()=>m.device_name||m.DeviceName),r(_,()=>m.field_name||m.FieldName),r(g,()=>m.value||m.Value),b(()=>ne(T,"key",m.id)),T})()),null),r($,(()=>{var m=W(()=>i().length===0);return()=>m()&&ei()})(),null),u})()}})}Y(["click"]);var li=f('<form class=form><div class=form-group><label class=form-label>名称</label><input class=form-input required></div><div class=grid style="grid-template-columns:repeat(2, 1fr);gap:12px"><div class=form-group><label class=form-label>产品Key (可选)</label><input class=form-input></div><div class=form-group><label class=form-label>设备Key (可选)</label><input class=form-input></div></div><div class=form-group><label class=form-label>保留天数</label><input class=form-input type=number required></div><div class=flex style=gap:12px;margin-top:12px><button class="btn btn-primary"type=submit style=flex:1></button><button class=btn type=button style=flex:1>重置'),ni=f('<div class=grid style="grid-template-columns:3fr 1.4fr;gap:24px">'),ii=f("<button class=btn>立即清理"),ri=f('<div class=text-center style=padding:48px;color:var(--text-muted)><div class=loading-spinner style="margin:0 auto 16px"></div><div>加载中...'),si=f("<div class=table-container style=max-height:520px;overflow:auto><table class=table><thead><tr><th>ID</th><th>名称</th><th>产品Key</th><th>设备Key</th><th>保留天数</th><th>状态</th><th>操作</th></tr></thead><tbody>"),ai=f('<tr><td></td><td></td><td></td><td></td><td></td><td><span></span></td><td class=flex style=gap:8px><button class=btn>编辑</button><button class="btn btn-danger">删除'),oi=f("<tr><td colspan=7 style=text-align:center;padding:24px;color:var(--text-muted)>暂无配置");const tt={name:"",product_key:"",device_key:"",storage_days:30,enabled:1};function di(){const e=ae(),[t,l]=S([]),[i,a]=S(!0),[n,d]=S(tt),[o,h]=S(null),[c,u]=S(!1),s=()=>{a(!0),H("/api/storage").then(x=>l(x.data||x)).catch(()=>e.show("error","加载存储配置失败")).finally(()=>a(!1))};G(()=>{s()});const v=x=>{x.preventDefault(),u(!0),(o()?Xe(`/api/storage/${o()}`,n()):ie("/api/storage",n())).then(()=>{e.show("success",o()?"已更新":"已创建"),d(tt),h(null),s()}).catch(()=>e.show("error","操作失败")).finally(()=>u(!1))},$=x=>{confirm("删除该配置？")&&ke(`/api/storage/${x}`).then(()=>{e.show("success","已删除"),s()}).catch(()=>e.show("error","删除失败"))},m=x=>{h(x.id),d({name:x.name,product_key:x.product_key||"",device_key:x.device_key||"",storage_days:x.storage_days,enabled:x.enabled})},T=()=>{ie("/api/storage/run",{}).then(x=>e.show("success",`清理完成，删除 ${x.deleted_count} 条记录`)).catch(()=>e.show("error","清理失败"))};return(()=>{var x=ni();return r(x,y(ee,{title:"存储策略列表",get extra(){return(()=>{var p=ii();return p.$$click=T,p})()},get children(){return W(()=>!!i())()?ri():(()=>{var p=si(),_=p.firstChild,g=_.firstChild,k=g.nextSibling;return r(k,y(X,{get each(){return t()},children:C=>(()=>{var E=ai(),R=E.firstChild,N=R.nextSibling,B=N.nextSibling,F=B.nextSibling,w=F.nextSibling,L=w.nextSibling,P=L.firstChild,j=L.nextSibling,O=j.firstChild,A=O.nextSibling;return r(R,()=>C.id),r(N,()=>C.name),r(B,()=>C.product_key||"-"),r(F,()=>C.device_key||"-"),r(w,()=>C.storage_days),r(P,()=>C.enabled===1?"启用":"禁用"),O.$$click=()=>m(C),A.$$click=()=>$(C.id),b(()=>se(P,`badge ${C.enabled===1?"badge-running":"badge-stopped"}`)),E})()}),null),r(k,y(X,{get each(){return t().length===0?[1]:[]},children:()=>oi()}),null),p})()}}),null),r(x,y(ee,{get title(){return o()?"编辑存储策略":"新增存储策略"},get children(){var p=li(),_=p.firstChild,g=_.firstChild,k=g.nextSibling,C=_.nextSibling,E=C.firstChild,R=E.firstChild,N=R.nextSibling,B=E.nextSibling,F=B.firstChild,w=F.nextSibling,L=C.nextSibling,P=L.firstChild,j=P.nextSibling,O=L.nextSibling,A=O.firstChild,K=A.nextSibling;return p.addEventListener("submit",v),k.$$input=M=>d({...n(),name:M.target.value}),N.$$input=M=>d({...n(),product_key:M.target.value}),w.$$input=M=>d({...n(),device_key:M.target.value}),j.$$input=M=>d({...n(),storage_days:+M.target.value}),r(A,(()=>{var M=W(()=>!!c());return()=>M()?"保存中...":o()?"保存":"创建"})()),K.$$click=()=>{d(tt),h(null)},b(()=>A.disabled=c()),b(()=>k.value=n().name),b(()=>N.value=n().product_key),b(()=>w.value=n().device_key),b(()=>j.value=n().storage_days),p}}),null),x})()}Y(["input","click"]);function ci(){return y(di,{})}var ui=f("<div><main class=container style=padding-top:32px;padding-bottom:32px></main><div id=toast-container class=toast-container>");function hi(){const[e,t]=rl(),[l,i]=S(!0);G(()=>{e()!=="/login"&&H("/api/status").then(()=>i(!0)).catch(()=>{i(!1),It("/login")})});const a=()=>{const n=e();switch(!0){case n==="/login":return y(Ol,{onSuccess:()=>t("/")});case n==="/":return y(mt,{});case n.startsWith("/resources"):return y(Wl,{});case n.startsWith("/devices"):return y(sn,{});case n.startsWith("/drivers"):return y(pn,{});case n.startsWith("/northbound"):return y(wn,{});case n.startsWith("/storage"):return y(ci,{});case n.startsWith("/thresholds"):return y(In,{});case n.startsWith("/alarms"):return y(Bn,{});case n.startsWith("/realtime"):return y(zn,{});case n.startsWith("/history"):return y(ti,{});default:return y(mt,{})}};return(()=>{var n=ui(),d=n.firstChild;return r(n,y(Q,{get when(){return e()!=="/login"},get children(){return y(pl,{get path(){return e()},onNav:t})}}),d),r(d,a),n})()}const xt=document.getElementById("app-root");xt&&Tt(()=>y(hi,{}),xt);const fi={};typeof document<"u"&&document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-solid-island]").forEach(e=>{const t=e.getAttribute("data-solid-island"),l=fi[t];if(!l)return;const i=e.dataset.props?JSON.parse(e.dataset.props):{};Tt(()=>y(l,i),e)})});
