var G,x,Ne,q,ge,Le,He,qe,_e,ce,se,M={},Ae=[],ze=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,X=Array.isArray;function H(t,n){for(var l in n)t[l]=n[l];return t}function pe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ve(t,n,l){var i,c,a,d={};for(a in n)a=="key"?i=n[a]:a=="ref"?c=n[a]:d[a]=n[a];if(arguments.length>2&&(d.children=arguments.length>3?G.call(arguments,2):l),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)d[a]===void 0&&(d[a]=t.defaultProps[a]);return R(t,d,i,c,null)}function R(t,n,l,i,c){var a={type:t,props:n,key:l,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:c??++Ne,__i:-1,__u:0};return c==null&&x.vnode!=null&&x.vnode(a),a}function Y(t){return t.children}function z(t,n){this.props=t,this.context=n}function F(t,n){if(n==null)return t.__?F(t.__,t.__i+1):null;for(var l;n<t.__k.length;n++)if((l=t.__k[n])!=null&&l.__e!=null)return l.__e;return typeof t.type=="function"?F(t):null}function Fe(t){var n,l;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if((l=t.__k[n])!=null&&l.__e!=null){t.__e=t.__c.base=l.__e;break}return Fe(t)}}function be(t){(!t.__d&&(t.__d=!0)&&q.push(t)&&!Q.__r++||ge!=x.debounceRendering)&&((ge=x.debounceRendering)||Le)(Q)}function Q(){for(var t,n,l,i,c,a,d,o=1;q.length;)q.length>o&&q.sort(He),t=q.shift(),o=q.length,t.__d&&(l=void 0,i=void 0,c=(i=(n=t).__v).__e,a=[],d=[],n.__P&&((l=H({},i)).__v=i.__v+1,x.vnode&&x.vnode(l),ve(n.__P,l,i,n.__n,n.__P.namespaceURI,32&i.__u?[c]:null,a,c??F(i),!!(32&i.__u),d),l.__v=i.__v,l.__.__k[l.__i]=l,Me(a,l,d),i.__e=i.__=null,l.__e!=c&&Fe(l)));Q.__r=0}function Ue(t,n,l,i,c,a,d,o,p,s,_){var r,h,v,y,f,k,g,b=i&&i.__k||Ae,P=n.length;for(p=Qe(l,n,b,p,P),r=0;r<P;r++)(v=l.__k[r])!=null&&(h=v.__i==-1?M:b[v.__i]||M,v.__i=r,k=ve(t,v,h,c,a,d,o,p,s,_),y=v.__e,v.ref&&h.ref!=v.ref&&(h.ref&&fe(h.ref,null,v),_.push(v.ref,v.__c||y,v)),f==null&&y!=null&&(f=y),(g=!!(4&v.__u))||h.__k===v.__k?p=We(v,p,t,g):typeof v.type=="function"&&k!==void 0?p=k:y&&(p=y.nextSibling),v.__u&=-7);return l.__e=f,p}function Qe(t,n,l,i,c){var a,d,o,p,s,_=l.length,r=_,h=0;for(t.__k=new Array(c),a=0;a<c;a++)(d=n[a])!=null&&typeof d!="boolean"&&typeof d!="function"?(typeof d=="string"||typeof d=="number"||typeof d=="bigint"||d.constructor==String?d=t.__k[a]=R(null,d,null,null,null):X(d)?d=t.__k[a]=R(Y,{children:d},null,null,null):d.constructor===void 0&&d.__b>0?d=t.__k[a]=R(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):t.__k[a]=d,p=a+h,d.__=t,d.__b=t.__b+1,o=null,(s=d.__i=Ge(d,l,p,r))!=-1&&(r--,(o=l[s])&&(o.__u|=2)),o==null||o.__v==null?(s==-1&&(c>_?h--:c<_&&h++),typeof d.type!="function"&&(d.__u|=4)):s!=p&&(s==p-1?h--:s==p+1?h++:(s>p?h--:h++,d.__u|=4))):t.__k[a]=null;if(r)for(a=0;a<_;a++)(o=l[a])!=null&&!(2&o.__u)&&(o.__e==i&&(i=F(o)),je(o,o));return i}function We(t,n,l,i){var c,a;if(typeof t.type=="function"){for(c=t.__k,a=0;c&&a<c.length;a++)c[a]&&(c[a].__=t,n=We(c[a],n,l,i));return n}t.__e!=n&&(i&&(n&&t.type&&!n.parentNode&&(n=F(t)),l.insertBefore(t.__e,n||null)),n=t.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function Ge(t,n,l,i){var c,a,d,o=t.key,p=t.type,s=n[l],_=s!=null&&(2&s.__u)==0;if(s===null&&o==null||_&&o==s.key&&p==s.type)return l;if(i>(_?1:0)){for(c=l-1,a=l+1;c>=0||a<n.length;)if((s=n[d=c>=0?c--:a++])!=null&&!(2&s.__u)&&o==s.key&&p==s.type)return d}return-1}function ye(t,n,l){n[0]=="-"?t.setProperty(n,l??""):t[n]=l==null?"":typeof l!="number"||ze.test(n)?l:l+"px"}function J(t,n,l,i,c){var a,d;e:if(n=="style")if(typeof l=="string")t.style.cssText=l;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(n in i)l&&n in l||ye(t.style,n,"");if(l)for(n in l)i&&l[n]==i[n]||ye(t.style,n,l[n])}else if(n[0]=="o"&&n[1]=="n")a=n!=(n=n.replace(qe,"$1")),d=n.toLowerCase(),n=d in t||n=="onFocusOut"||n=="onFocusIn"?d.slice(2):n.slice(2),t.l||(t.l={}),t.l[n+a]=l,l?i?l.u=i.u:(l.u=_e,t.addEventListener(n,a?se:ce,a)):t.removeEventListener(n,a?se:ce,a);else{if(c=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in t)try{t[n]=l??"";break e}catch{}typeof l=="function"||(l==null||l===!1&&n[4]!="-"?t.removeAttribute(n):t.setAttribute(n,n=="popover"&&l==1?"":l))}}function xe(t){return function(n){if(this.l){var l=this.l[n.type+t];if(n.t==null)n.t=_e++;else if(n.t<l.u)return;return l(x.event?x.event(n):n)}}}function ve(t,n,l,i,c,a,d,o,p,s){var _,r,h,v,y,f,k,g,b,P,L,u,I,j,B,W,ee,N=n.type;if(n.constructor!==void 0)return null;128&l.__u&&(p=!!(32&l.__u),a=[o=n.__e=l.__e]),(_=x.__b)&&_(n);e:if(typeof N=="function")try{if(g=n.props,b="prototype"in N&&N.prototype.render,P=(_=N.contextType)&&i[_.__c],L=_?P?P.props.value:_.__:i,l.__c?k=(r=n.__c=l.__c).__=r.__E:(b?n.__c=r=new N(g,L):(n.__c=r=new z(g,L),r.constructor=N,r.render=Ye),P&&P.sub(r),r.state||(r.state={}),r.__n=i,h=r.__d=!0,r.__h=[],r._sb=[]),b&&r.__s==null&&(r.__s=r.state),b&&N.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=H({},r.__s)),H(r.__s,N.getDerivedStateFromProps(g,r.__s))),v=r.props,y=r.state,r.__v=n,h)b&&N.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),b&&r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(b&&N.getDerivedStateFromProps==null&&g!==v&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(g,L),n.__v==l.__v||!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(g,r.__s,L)===!1){for(n.__v!=l.__v&&(r.props=g,r.state=r.__s,r.__d=!1),n.__e=l.__e,n.__k=l.__k,n.__k.some(function(A){A&&(A.__=n)}),u=0;u<r._sb.length;u++)r.__h.push(r._sb[u]);r._sb=[],r.__h.length&&d.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(g,r.__s,L),b&&r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(v,y,f)})}if(r.context=L,r.props=g,r.__P=t,r.__e=!1,I=x.__r,j=0,b){for(r.state=r.__s,r.__d=!1,I&&I(n),_=r.render(r.props,r.state,r.context),B=0;B<r._sb.length;B++)r.__h.push(r._sb[B]);r._sb=[]}else do r.__d=!1,I&&I(n),_=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++j<25);r.state=r.__s,r.getChildContext!=null&&(i=H(H({},i),r.getChildContext())),b&&!h&&r.getSnapshotBeforeUpdate!=null&&(f=r.getSnapshotBeforeUpdate(v,y)),W=_,_!=null&&_.type===Y&&_.key==null&&(W=Oe(_.props.children)),o=Ue(t,X(W)?W:[W],n,l,i,c,a,d,o,p,s),r.base=n.__e,n.__u&=-161,r.__h.length&&d.push(r),k&&(r.__E=r.__=null)}catch(A){if(n.__v=null,p||a!=null)if(A.then){for(n.__u|=p?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;a[a.indexOf(o)]=null,n.__e=o}else{for(ee=a.length;ee--;)pe(a[ee]);de(n)}else n.__e=l.__e,n.__k=l.__k,A.then||de(n);x.__e(A,n,l)}else a==null&&n.__v==l.__v?(n.__k=l.__k,n.__e=l.__e):o=n.__e=Xe(l.__e,n,l,i,c,a,d,p,s);return(_=x.diffed)&&_(n),128&n.__u?void 0:o}function de(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(de)}function Me(t,n,l){for(var i=0;i<l.length;i++)fe(l[i],l[++i],l[++i]);x.__c&&x.__c(n,t),t.some(function(c){try{t=c.__h,c.__h=[],t.some(function(a){a.call(c)})}catch(a){x.__e(a,c.__v)}})}function Oe(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:X(t)?t.map(Oe):H({},t)}function Xe(t,n,l,i,c,a,d,o,p){var s,_,r,h,v,y,f,k=l.props||M,g=n.props,b=n.type;if(b=="svg"?c="http://www.w3.org/2000/svg":b=="math"?c="http://www.w3.org/1998/Math/MathML":c||(c="http://www.w3.org/1999/xhtml"),a!=null){for(s=0;s<a.length;s++)if((v=a[s])&&"setAttribute"in v==!!b&&(b?v.localName==b:v.nodeType==3)){t=v,a[s]=null;break}}if(t==null){if(b==null)return document.createTextNode(g);t=document.createElementNS(c,b,g.is&&g),o&&(x.__m&&x.__m(n,a),o=!1),a=null}if(b==null)k===g||o&&t.data==g||(t.data=g);else{if(a=a&&G.call(t.childNodes),!o&&a!=null)for(k={},s=0;s<t.attributes.length;s++)k[(v=t.attributes[s]).name]=v.value;for(s in k)if(v=k[s],s!="children"){if(s=="dangerouslySetInnerHTML")r=v;else if(!(s in g)){if(s=="value"&&"defaultValue"in g||s=="checked"&&"defaultChecked"in g)continue;J(t,s,null,v,c)}}for(s in g)v=g[s],s=="children"?h=v:s=="dangerouslySetInnerHTML"?_=v:s=="value"?y=v:s=="checked"?f=v:o&&typeof v!="function"||k[s]===v||J(t,s,v,k[s],c);if(_)o||r&&(_.__html==r.__html||_.__html==t.innerHTML)||(t.innerHTML=_.__html),n.__k=[];else if(r&&(t.innerHTML=""),Ue(n.type=="template"?t.content:t,X(h)?h:[h],n,l,i,b=="foreignObject"?"http://www.w3.org/1999/xhtml":c,a,d,a?a[0]:l.__k&&F(l,0),o,p),a!=null)for(s=a.length;s--;)pe(a[s]);o||(s="value",b=="progress"&&y==null?t.removeAttribute("value"):y!=null&&(y!==t[s]||b=="progress"&&!y||b=="option"&&y!=k[s])&&J(t,s,y,k[s],c),s="checked",f!=null&&f!=t[s]&&J(t,s,f,k[s],c))}return t}function fe(t,n,l){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&n==null||(t.__u=t(n))}else t.current=n}catch(c){x.__e(c,l)}}function je(t,n,l){var i,c;if(x.unmount&&x.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||fe(i,null,n)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){x.__e(a,n)}i.base=i.__P=null}if(i=t.__k)for(c=0;c<i.length;c++)i[c]&&je(i[c],n,l||typeof t.type!="function");l||pe(t.__e),t.__c=t.__=t.__e=void 0}function Ye(t,n,l){return this.constructor(t,l)}function ke(t,n,l){var i,c,a,d;n==document&&(n=document.documentElement),x.__&&x.__(t,n),c=(i=!1)?null:n.__k,a=[],d=[],ve(n,t=n.__k=Ve(Y,null,[t]),c||M,M,n.namespaceURI,c?null:n.firstChild?G.call(n.childNodes):null,a,c?c.__e:n.firstChild,i,d),Me(a,t,d)}G=Ae.slice,x={__e:function(t,n,l,i){for(var c,a,d;n=n.__;)if((c=n.__c)&&!c.__)try{if((a=c.constructor)&&a.getDerivedStateFromError!=null&&(c.setState(a.getDerivedStateFromError(t)),d=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(t,i||{}),d=c.__d),d)return c.__E=c}catch(o){t=o}throw t}},Ne=0,z.prototype.setState=function(t,n){var l;l=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=H({},this.state),typeof t=="function"&&(t=t(H({},l),this.props)),t&&H(l,t),t!=null&&this.__v&&(n&&this._sb.push(n),be(this))},z.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),be(this))},z.prototype.render=Y,q=[],Le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,He=function(t,n){return t.__v.__b-n.__v.__b},Q.__r=0,qe=/(PointerCapture)$|Capture$/i,_e=0,ce=xe(!1),se=xe(!0);var Ze=0;function e(t,n,l,i,c,a){n||(n={});var d,o,p=n;if("ref"in p)for(o in p={},n)o=="ref"?d=n[o]:p[o]=n[o];var s={type:t,props:p,key:l,ref:d,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Ze,__i:-1,__u:0,__source:c,__self:a};if(typeof t=="function"&&(d=t.defaultProps))for(o in d)p[o]===void 0&&(p[o]=d[o]);return x.vnode&&x.vnode(s),s}var O,w,te,we,oe=0,Be=[],C=x,Ce=C.__b,$e=C.__r,Se=C.diffed,Te=C.__c,Ie=C.unmount,De=C.__;function me(t,n){C.__h&&C.__h(w,t,oe||n),oe=0;var l=w.__H||(w.__H={__:[],__h:[]});return t>=l.__.length&&l.__.push({}),l.__[t]}function m(t){return oe=1,et(Ke,t)}function et(t,n,l){var i=me(O++,2);if(i.t=t,!i.__c&&(i.__=[Ke(void 0,n),function(o){var p=i.__N?i.__N[0]:i.__[0],s=i.t(p,o);p!==s&&(i.__N=[s,i.__[1]],i.__c.setState({}))}],i.__c=w,!w.__f)){var c=function(o,p,s){if(!i.__c.__H)return!0;var _=i.__c.__H.__.filter(function(h){return!!h.__c});if(_.every(function(h){return!h.__N}))return!a||a.call(this,o,p,s);var r=i.__c.props!==o;return _.forEach(function(h){if(h.__N){var v=h.__[0];h.__=h.__N,h.__N=void 0,v!==h.__[0]&&(r=!0)}}),a&&a.call(this,o,p,s)||r};w.__f=!0;var a=w.shouldComponentUpdate,d=w.componentWillUpdate;w.componentWillUpdate=function(o,p,s){if(this.__e){var _=a;a=void 0,c(o,p,s),a=_}d&&d.call(this,o,p,s)},w.shouldComponentUpdate=c}return i.__N||i.__}function $(t,n){var l=me(O++,3);!C.__s&&Je(l.__H,n)&&(l.__=t,l.u=n,w.__H.__h.push(l))}function he(t,n){var l=me(O++,7);return Je(l.__H,n)&&(l.__=t(),l.__H=n,l.__h=t),l.__}function tt(){for(var t;t=Be.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(V),t.__H.__h.forEach(ue),t.__H.__h=[]}catch(n){t.__H.__h=[],C.__e(n,t.__v)}}C.__b=function(t){w=null,Ce&&Ce(t)},C.__=function(t,n){t&&n.__k&&n.__k.__m&&(t.__m=n.__k.__m),De&&De(t,n)},C.__r=function(t){$e&&$e(t),O=0;var n=(w=t.__c).__H;n&&(te===w?(n.__h=[],w.__h=[],n.__.forEach(function(l){l.__N&&(l.__=l.__N),l.u=l.__N=void 0})):(n.__h.forEach(V),n.__h.forEach(ue),n.__h=[],O=0)),te=w},C.diffed=function(t){Se&&Se(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(Be.push(n)!==1&&we===C.requestAnimationFrame||((we=C.requestAnimationFrame)||nt)(tt)),n.__H.__.forEach(function(l){l.u&&(l.__H=l.u),l.u=void 0})),te=w=null},C.__c=function(t,n){n.some(function(l){try{l.__h.forEach(V),l.__h=l.__h.filter(function(i){return!i.__||ue(i)})}catch(i){n.some(function(c){c.__h&&(c.__h=[])}),n=[],C.__e(i,l.__v)}}),Te&&Te(t,n)},C.unmount=function(t){Ie&&Ie(t);var n,l=t.__c;l&&l.__H&&(l.__H.__.forEach(function(i){try{V(i)}catch(c){n=c}}),l.__H=void 0,n&&C.__e(n,l.__v))};var Ee=typeof requestAnimationFrame=="function";function nt(t){var n,l=function(){clearTimeout(i),Ee&&cancelAnimationFrame(n),setTimeout(t)},i=setTimeout(l,35);Ee&&(n=requestAnimationFrame(l))}function V(t){var n=w,l=t.__c;typeof l=="function"&&(t.__c=void 0,l()),w=n}function ue(t){var n=w;t.__c=t.__(),w=n}function Je(t,n){return!t||t.length!==n.length||n.some(function(l,i){return l!==t[i]})}function Ke(t,n){return typeof n=="function"?n(t):n}function rt(){const[t,n]=m(()=>window.location.pathname||"/");return $(()=>{const i=()=>n(window.location.pathname||"/");return window.addEventListener("popstate",i),()=>window.removeEventListener("popstate",i)},[]),[t,i=>{i!==t&&(window.history.pushState({},"",i),n(i),window.scrollTo({top:0,behavior:"smooth"}))}]}function lt(t,n){return n==="/"?t==="/":t.startsWith(n)}const it=[{to:"/",label:"ä»ªè¡¨ç›˜"},{to:"/resources",label:"èµ„æº"},{to:"/devices",label:"è®¾å¤‡"},{to:"/drivers",label:"é©±åŠ¨"},{to:"/northbound",label:"åŒ—å‘"},{to:"/storage",label:"å­˜å‚¨ç­–ç•¥"},{to:"/thresholds",label:"é˜ˆå€¼"},{to:"/alarms",label:"æŠ¥è­¦"},{to:"/realtime",label:"å®žæ—¶"},{to:"/history",label:"åŽ†å²"}];function at({path:t,onNav:n}){return e("nav",{class:"nav",children:e("div",{class:"container nav-inner",children:[e("div",{class:"nav-brand",children:[e("div",{class:"nav-logo",children:"â˜°"}),e("div",{children:[e("div",{class:"nav-title",children:"HuShuæ™ºèƒ½ç½‘å…³"}),e("div",{class:"nav-subtitle",children:"å·¥ä¸šç‰©è”ç½‘ç½‘å…³ç®¡ç†"})]})]}),e("div",{class:"nav-links",children:[it.map(l=>e("a",{href:l.to,class:`nav-link ${lt(t,l.to)?"active":""}`,onClick:i=>{i.preventDefault(),n(l.to)},children:l.label},l.to)),e("a",{class:"btn btn-danger",href:"/logout",children:"é€€å‡º"})]})]})})}function Z(t){if(t.status===401)throw window.location.href="/login",new Error("unauthorized")}async function S(t,n={}){const l=await fetch(t,{credentials:"same-origin",...n});if(Z(l),!l.ok)throw new Error(l.statusText);return l.json()}async function D(t,n,l={}){const i=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",...l.headers||{}},credentials:"same-origin",body:JSON.stringify(n),...l});if(Z(i),!i.ok)throw new Error(i.statusText);return i.json()}async function Re(t,n,l={}){const i=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json",...l.headers||{}},credentials:"same-origin",body:JSON.stringify(n),...l});if(Z(i),!i.ok)throw new Error(i.statusText);return i.json()}async function U(t){const n=await fetch(t,{method:"DELETE",credentials:"same-origin"});if(Z(n),!n.ok)throw new Error(n.statusText);return n.json()}const K=(t,n)=>e("div",{class:"stat-card",children:[e("div",{class:`stat-card-icon ${n}`,children:"â³"}),e("div",{class:"stat-card-label",children:t}),e("div",{class:"stat-card-value",style:"opacity:0.6",children:"--"})]});function ct(){var a,d,o,p;const[t,n]=m(null),[l,i]=m(""),c=()=>{S("/api/status").then(s=>n(s.data||s)).catch(()=>i("çŠ¶æ€èŽ·å–å¤±è´¥"))};return $(()=>{c();const s=setInterval(c,5e3);return()=>clearInterval(s)},[]),l?e("div",{style:"color:var(--accent-red);padding:8px 0;",children:l}):t?e("div",{class:"grid grid-cols-4 mb-8",children:[e("div",{class:"stat-card",children:[e("div",{class:"stat-card-icon blue",children:"ðŸ“Š"}),e("div",{class:"stat-card-label",children:"è®¾å¤‡æ€»æ•°"}),e("div",{class:"stat-card-value",children:((a=t.devices)==null?void 0:a.total)??0})]}),e("div",{class:"stat-card",children:[e("div",{class:"stat-card-icon green",children:"âœ“"}),e("div",{class:"stat-card-label",children:"é‡‡é›†ä½¿èƒ½"}),e("div",{class:"stat-card-value",children:((d=t.devices)==null?void 0:d.enabled)??0})]}),e("div",{class:"stat-card",children:[e("div",{class:"stat-card-icon purple",children:"âš¡"}),e("div",{class:"stat-card-label",children:"åŒ—å‘å¯ç”¨"}),e("div",{class:"stat-card-value",children:((o=t.northbound)==null?void 0:o.enabled)??0})]}),e("div",{class:"stat-card",children:[e("div",{class:"stat-card-icon orange",children:"âš "}),e("div",{class:"stat-card-label",children:"æœªç¡®è®¤å‘Šè­¦"}),e("div",{class:"stat-card-value",children:((p=t.alarms)==null?void 0:p.unacked)??0})]})]}):e("div",{class:"grid grid-cols-4 mb-8",children:[K("è®¾å¤‡æ€»æ•°","blue"),K("é‡‡é›†ä½¿èƒ½","green"),K("åŒ—å‘å¯ç”¨","purple"),K("æœªç¡®è®¤å‘Šè­¦","orange")]})}const T=({title:t,extra:n,children:l})=>e("div",{class:"card",style:"margin-bottom:16px;",children:[e("div",{class:"card-header",children:[e("h3",{class:"card-title",children:t}),n&&e("div",{children:n})]}),l]});function E(){return(t,n,l)=>{if(window.showToast)return window.showToast(t,n,l);alert(`${n||t}: ${l||""}`)}}function st(){const t=E(),[n,l]=m([]),i=()=>{S("/api/data/points").then(c=>l((c.data||c).slice(0,8))).catch(()=>t("error","åŠ è½½å®žæ—¶æ•°æ®å¤±è´¥"))};return $(()=>{i();const c=setInterval(i,4e3);return()=>clearInterval(c)},[]),e(T,{title:"æœ€æ–°é‡‡é›†",extra:e("button",{class:"btn",onClick:i,children:"åˆ·æ–°"}),children:e("div",{class:"table-container",style:"max-height:320px; overflow:auto;",children:e("table",{class:"table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"æ—¶é—´"}),e("th",{children:"è®¾å¤‡"}),e("th",{children:"å­—æ®µ"}),e("th",{children:"å€¼"})]})}),e("tbody",{children:[n.map(c=>{var a;return e("tr",{children:[e("td",{children:((a=c.collected_at)==null?void 0:a.slice(5,19))||c.CollectedAt}),e("td",{children:c.device_name||c.DeviceName}),e("td",{children:c.field_name||c.FieldName}),e("td",{children:c.value||c.Value})]},c.id||`${c.device_id}-${c.field_name}-${c.collected_at}`)}),!n.length&&e("tr",{children:e("td",{colSpan:4,style:"text-align:center; padding:16px; color:var(--text-muted);",children:"æš‚æ— æ•°æ®"})})]})]})})})}function dt(){const t=E(),[n,l]=m([]),i=()=>{S("/api/alarms").then(a=>l((a.data||a).slice(0,8))).catch(()=>t("error","åŠ è½½å‘Šè­¦å¤±è´¥"))};$(()=>{i()},[]);const c=a=>{D(`/api/alarms/${a}/acknowledge`,{}).then(()=>{t("success","å·²ç¡®è®¤"),i()}).catch(()=>t("error","ç¡®è®¤å¤±è´¥"))};return e(T,{title:"æœ€è¿‘å‘Šè­¦",extra:e("button",{class:"btn",onClick:i,children:"åˆ·æ–°"}),children:e("div",{class:"table-container",style:"max-height:320px; overflow:auto;",children:e("table",{class:"table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"æ—¶é—´"}),e("th",{children:"è®¾å¤‡"}),e("th",{children:"å­—æ®µ"}),e("th",{children:"å€¼"}),e("th",{children:"é˜ˆå€¼"}),e("th",{children:"çº§åˆ«"}),e("th",{})]})}),e("tbody",{children:[n.map(a=>{var d;return e("tr",{children:[e("td",{children:((d=a.triggered_at)==null?void 0:d.slice(5,19))||a.triggered_at}),e("td",{children:a.device_id}),e("td",{children:a.field_name}),e("td",{children:a.actual_value}),e("td",{children:`${a.operator} ${a.threshold_value}`}),e("td",{children:e("span",{class:`badge ${a.severity==="critical"?"badge-critical":"badge-running"}`,children:a.severity||"warn"})}),e("td",{children:a.acknowledged===1?e("span",{class:"text-muted text-xs",children:"å·²ç¡®è®¤"}):e("button",{class:"btn btn-primary",onClick:()=>c(a.id),style:"padding:6px 10px;",children:"ç¡®è®¤"})})]},a.id)}),!n.length&&e("tr",{children:e("td",{colSpan:7,style:"text-align:center; padding:16px; color:var(--text-muted);",children:"æš‚æ— å‘Šè­¦"})})]})]})})})}function ot({collectorRunning:t,onRefresh:n}){const l=E(),[i,c]=m(!1);return e(T,{title:"å¿«æ·æ“ä½œ",children:e("div",{class:"flex",style:"gap:12px; flex-wrap:wrap;",children:e("button",{class:`btn ${t?"btn-danger":"btn-success"}`,onClick:()=>{c(!0),D(t?"/api/collector/stop":"/api/collector/start",{}).then(()=>{l("success",t?"å·²åœæ­¢é‡‡é›†":"å·²å¯åŠ¨é‡‡é›†"),n==null||n()}).catch(()=>l("error","æ“ä½œå¤±è´¥")).finally(()=>c(!1))},disabled:i,children:t?"åœæ­¢é‡‡é›†å™¨":"å¯åŠ¨é‡‡é›†å™¨"})})})}function Pe(){const[t,n]=m(null),l=()=>S("/api/status").then(i=>n(i.data||i)).catch(()=>{});return $(()=>{l()},[]),e("div",{children:[e(ct,{}),e("div",{class:"grid",style:{gridTemplateColumns:"2fr 1fr",gap:"24px"},children:[e("div",{class:"grid",style:{gridTemplateColumns:"1fr",gap:"24px"},children:[e(st,{}),e(dt,{})]}),e("div",{class:"grid",style:{gridTemplateColumns:"1fr",gap:"24px"},children:e(ot,{collectorRunning:t==null?void 0:t.collector_running,onRefresh:l})})]})]})}const ne={name:"",type:"serial",path:"",enabled:1};function ht(){const t=E(),[n,l]=m([]),[i,c]=m(ne),[a,d]=m(null),o=()=>{S("/api/resources").then(r=>l(r.data||r)).catch(()=>t("error","åŠ è½½èµ„æºå¤±è´¥"))};$(()=>{o()},[]);const p=r=>{r.preventDefault(),(a?Re(`/api/resources/${a}`,i):D("/api/resources",i)).then(()=>{t("success",a?"èµ„æºå·²æ›´æ–°":"èµ„æºå·²åˆ›å»º"),c(ne),d(null),o()}).catch(()=>t("error","ä¿å­˜å¤±è´¥"))},s=r=>{confirm("åˆ é™¤è¯¥èµ„æºï¼Ÿ")&&U(`/api/resources/${r}`).then(()=>{t("success","å·²åˆ é™¤"),o()}).catch(()=>t("error","åˆ é™¤å¤±è´¥"))},_=r=>{D(`/api/resources/${r.id}/toggle`,{}).then(o).catch(()=>t("error","åˆ‡æ¢å¤±è´¥"))};return e("div",{class:"grid",style:{gridTemplateColumns:"3fr 1.4fr",gap:"24px"},children:[e(T,{title:"èµ„æºåˆ—è¡¨",children:e("div",{class:"table-container",style:"max-height:520px; overflow:auto;",children:e("table",{class:"table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"ID"}),e("th",{children:"åç§°"}),e("th",{children:"ç±»åž‹"}),e("th",{children:"è·¯å¾„"}),e("th",{children:"çŠ¶æ€"}),e("th",{children:"æ“ä½œ"})]})}),e("tbody",{children:[n.map(r=>e("tr",{children:[e("td",{children:r.id}),e("td",{children:r.name}),e("td",{children:r.type}),e("td",{children:r.path}),e("td",{children:e("span",{class:`badge ${r.enabled===1?"badge-running":"badge-stopped"}`,children:r.enabled===1?"å¯ç”¨":"ç¦ç”¨"})}),e("td",{class:"flex",style:"gap:8px;",children:[e("button",{class:"btn",onClick:()=>{d(r.id),c({name:r.name,type:r.type,path:r.path,enabled:r.enabled})},children:"ç¼–è¾‘"}),e("button",{class:"btn",onClick:()=>_(r),children:r.enabled===1?"ç¦ç”¨":"å¯ç”¨"}),e("button",{class:"btn btn-danger",onClick:()=>s(r.id),children:"åˆ é™¤"})]})]},r.id)),!n.length&&e("tr",{children:e("td",{colSpan:6,style:"text-align:center; padding:24px; color:var(--text-muted);",children:"æš‚æ— èµ„æº"})})]})]})})}),e(T,{title:a?"ç¼–è¾‘èµ„æº":"æ–°å¢žèµ„æº",children:e("form",{class:"form",onSubmit:p,children:[e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"åç§°"}),e("input",{class:"form-input",value:i.name,onInput:r=>c({...i,name:r.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"ç±»åž‹"}),e("select",{class:"form-select",value:i.type,onChange:r=>c({...i,type:r.target.value}),children:[e("option",{value:"serial",children:"ä¸²å£"}),e("option",{value:"net",children:"ç½‘å£"}),e("option",{value:"di",children:"DI"}),e("option",{value:"do",children:"DO"})]})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"è·¯å¾„"}),e("input",{class:"form-input",value:i.path,onInput:r=>c({...i,path:r.target.value}),placeholder:"å¦‚ /dev/ttyUSB0 æˆ– eth0",required:!0})]}),e("div",{class:"flex",style:{gap:"12px",marginTop:"12px"},children:[e("button",{class:"btn btn-primary",type:"submit",style:{flex:1},children:a?"ä¿å­˜":"åˆ›å»º"}),e("button",{class:"btn",type:"button",onClick:()=>{c(ne),d(null)},style:{flex:1},children:"é‡ç½®"})]})]})})]})}const re={name:"",description:"",product_key:"",device_key:"",driver_type:"modbus_rtu",serial_port:"/dev/ttyS0",baud_rate:9600,data_bits:8,stop_bits:1,parity:"N",ip_address:"",port_num:502,device_address:"1",collect_interval:1e3,timeout:1e3,resource_id:null};function ut(){const t=E(),[n,l]=m([]),[i,c]=m([]),[a,d]=m(!0),[o,p]=m(""),[s,_]=m(""),[r,h]=m(re),[v,y]=m(!1),f=()=>{d(!0),Promise.all([S("/api/devices"),S("/api/resources")]).then(([u,I])=>{l(u.data||u),c(I.data||I),p("")}).catch(()=>p("åŠ è½½è®¾å¤‡æˆ–èµ„æºå¤±è´¥")).finally(()=>d(!1))};$(()=>{f()},[]);const k=he(()=>{const u=s.trim().toLowerCase();return u?n.filter(I=>[I.name,I.device_address,I.driver_type,I.driver_name].filter(Boolean).some(j=>j.toLowerCase().includes(u))):n},[n,s]),g=u=>{u.preventDefault(),y(!0),D("/api/devices",r).then(()=>{t("success","è®¾å¤‡å·²åˆ›å»º"),h(re),f()}).catch(()=>t("error","åˆ›å»ºå¤±è´¥")).finally(()=>y(!1))},b=u=>{D(`/api/devices/${u}/toggle`,{}).then(()=>f()).catch(()=>t("error","åˆ‡æ¢å¤±è´¥"))},P=u=>{confirm("ç¡®å®šåˆ é™¤è¯¥è®¾å¤‡ï¼Ÿ")&&U(`/api/devices/${u}`).then(()=>{t("success","å·²åˆ é™¤"),f()}).catch(()=>t("error","åˆ é™¤å¤±è´¥"))},L=he(()=>i.length?r.driver_type==="modbus_rtu"?i.filter(u=>u.type==="serial"):r.driver_type==="modbus_tcp"?i.filter(u=>u.type==="net"):i:[],[i,r.driver_type]);return e("div",{class:"grid",style:{gridTemplateColumns:"3fr 1.4fr",gap:"24px"},children:[e(T,{title:"è®¾å¤‡åˆ—è¡¨",extra:e("div",{class:"flex gap-3",children:[e("input",{class:"form-input",style:"max-width:240px;",placeholder:"æœç´¢è®¾å¤‡/åœ°å€/é©±åŠ¨",value:s,onInput:u=>_(u.target.value)}),e("button",{class:"btn",onClick:f,children:"åˆ·æ–°"})]}),children:a?e("div",{class:"text-center",style:"padding:48px; color:var(--text-muted);",children:[e("div",{class:"loading-spinner",style:"margin:0 auto 16px;"}),e("div",{children:"åŠ è½½ä¸­..."})]}):o?e("div",{style:"color:var(--accent-red); padding:16px 0;",children:o}):e("div",{class:"table-container",style:"max-height:520px; overflow:auto;",children:e("table",{class:"table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"ID"}),e("th",{children:"åç§°"}),e("th",{children:"äº§å“/è®¾å¤‡Key"}),e("th",{children:"é©±åŠ¨ç±»åž‹"}),e("th",{children:"é©±åŠ¨"}),e("th",{children:"èµ„æº"}),e("th",{children:"å‘¨æœŸ(ms)"}),e("th",{children:"çŠ¶æ€"}),e("th",{children:"æ“ä½œ"})]})}),e("tbody",{children:[k.map(u=>e("tr",{children:[e("td",{children:u.id}),e("td",{children:u.name}),e("td",{style:"min-width:140px;",children:[e("div",{class:"text-sm",children:u.product_key||"-"}),e("div",{class:"text-muted text-xs",children:u.device_key||""})]}),e("td",{children:u.driver_type}),e("td",{children:u.driver_name||(u.driver_id?`é©±åŠ¨ #${u.driver_id}`:"-")}),e("td",{children:u.resource_name?e("div",{children:[e("div",{children:u.resource_name}),e("div",{class:"text-muted text-xs",children:u.resource_path})]}):e("span",{class:"text-muted",children:"æœªç»‘å®š"})}),e("td",{children:u.collect_interval}),e("td",{children:e("span",{class:`badge ${u.enabled===1?"badge-running":"badge-stopped"}`,children:u.enabled===1?"é‡‡é›†ä¸­":"åœæ­¢"})}),e("td",{class:"flex",style:"gap:8px;",children:[e("button",{class:`btn ${u.enabled===1?"btn-danger":"btn-success"}`,onClick:()=>b(u.id),children:u.enabled===1?"åœæ­¢":"å¯åŠ¨"}),e("button",{class:"btn btn-danger",onClick:()=>P(u.id),children:"åˆ é™¤"})]})]},u.id)),!k.length&&e("tr",{children:e("td",{colSpan:8,style:"text-align:center; padding:24px; color:var(--text-muted);",children:"æš‚æ— è®¾å¤‡"})})]})]})})}),e(T,{title:"æ–°å¢žè®¾å¤‡",children:e("form",{class:"form",onSubmit:g,children:[e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"åç§°"}),e("input",{class:"form-input",value:r.name,onInput:u=>h({...r,name:u.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"æè¿°"}),e("input",{class:"form-input",value:r.description,onInput:u=>h({...r,description:u.target.value})})]}),e("div",{class:"grid",style:{gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"ProductKey"}),e("input",{class:"form-input",value:r.product_key,onInput:u=>h({...r,product_key:u.target.value})})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"DeviceKey"}),e("input",{class:"form-input",value:r.device_key,onInput:u=>h({...r,device_key:u.target.value})})]})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"é©±åŠ¨ç±»åž‹"}),e("select",{class:"form-select",value:r.driver_type,onChange:u=>h({...r,driver_type:u.target.value,resource_id:null}),children:[e("option",{value:"modbus_rtu",children:"Modbus RTU (ä¸²å£)"}),e("option",{value:"modbus_tcp",children:"Modbus TCP"})]})]}),r.driver_type==="modbus_rtu"?e("div",{class:"grid",style:{gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"ä¸²å£"}),e("input",{class:"form-input",value:r.serial_port,onInput:u=>h({...r,serial_port:u.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"æ³¢ç‰¹çŽ‡"}),e("input",{class:"form-input",type:"number",value:r.baud_rate,onInput:u=>h({...r,baud_rate:+u.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"æ•°æ®ä½"}),e("input",{class:"form-input",type:"number",value:r.data_bits,onInput:u=>h({...r,data_bits:+u.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"åœæ­¢ä½"}),e("input",{class:"form-input",type:"number",value:r.stop_bits,onInput:u=>h({...r,stop_bits:+u.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"æ ¡éªŒä½"}),e("select",{class:"form-select",value:r.parity,onChange:u=>h({...r,parity:u.target.value}),children:[e("option",{value:"N",children:"None"}),e("option",{value:"E",children:"Even"}),e("option",{value:"O",children:"Odd"})]})]})]}):e("div",{class:"grid",style:{gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"IP åœ°å€"}),e("input",{class:"form-input",value:r.ip_address,onInput:u=>h({...r,ip_address:u.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"ç«¯å£"}),e("input",{class:"form-input",type:"number",value:r.port_num,onInput:u=>h({...r,port_num:+u.target.value}),required:!0})]})]}),e("div",{class:"grid",style:{gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"è®¾å¤‡åœ°å€"}),e("input",{class:"form-input",value:r.device_address,onInput:u=>h({...r,device_address:u.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"é‡‡é›†å‘¨æœŸ (ms)"}),e("input",{class:"form-input",type:"number",value:r.collect_interval,onInput:u=>h({...r,collect_interval:+u.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"è¶…æ—¶ (ms)"}),e("input",{class:"form-input",type:"number",value:r.timeout,onInput:u=>h({...r,timeout:+u.target.value})})]})]}),e("div",{class:"form-group",style:"margin-top:8px;",children:[e("label",{class:"form-label",children:"ç»‘å®šèµ„æº"}),e("select",{class:"form-select",value:r.resource_id??"",onChange:u=>h({...r,resource_id:u.target.value?Number(u.target.value):null}),children:[e("option",{value:"",children:"ä¸ç»‘å®š"}),L.map(u=>e("option",{value:u.id,children:`${u.name} (${u.path})`},u.id))]}),e("div",{class:"text-muted text-xs",style:"margin-top:4px;",children:"åŒä¸€èµ„æºä¸²è¡Œè®¿é—®ï¼Œå»ºè®®æŒ‰é©±åŠ¨ç±»åž‹åŒ¹é…ã€‚"})]}),e("div",{class:"flex",style:{gap:"12px",marginTop:"16px"},children:[e("button",{class:"btn btn-primary",type:"submit",disabled:v,style:{flex:1},children:v?"æäº¤ä¸­...":"åˆ›å»ºè®¾å¤‡"}),e("button",{class:"btn",type:"button",onClick:()=>h(re),style:{flex:1},children:"é‡ç½®"})]})]})})]})}const _t=()=>e(ut,{});function pt(){const t=E(),[n,l]=m([]),[i,c]=m(!0),[a,d]=m(""),o=()=>{c(!0),S("/api/drivers").then(r=>{l(r.data||r),d("")}).catch(()=>d("åŠ è½½é©±åŠ¨å¤±è´¥")).finally(()=>c(!1))};$(()=>{o()},[]);const p=(r,h)=>{D(`/api/drivers/${r}`,{enabled:h?0:1}).then(()=>{t("success","çŠ¶æ€å·²æ›´æ–°"),o()}).catch(()=>t("error","æ›´æ–°å¤±è´¥"))},s=r=>{confirm("åˆ é™¤è¯¥é©±åŠ¨ï¼Ÿ")&&U(`/api/drivers/${r}`).then(()=>{t("success","å·²åˆ é™¤"),o()}).catch(()=>t("error","åˆ é™¤å¤±è´¥"))};return e(T,{title:"é©±åŠ¨ç®¡ç†",extra:e("label",{class:"btn btn-primary",style:"cursor:pointer;",children:["ä¸Šä¼ é©±åŠ¨",e("input",{type:"file",accept:".wasm",style:"display:none",onChange:r=>{var y;const h=(y=r.target.files)==null?void 0:y[0];if(!h)return;const v=new FormData;v.append("file",h),fetch("/api/drivers/upload",{method:"POST",body:v}).then(f=>f.json()).then(()=>{t("success","ä¸Šä¼ æˆåŠŸ"),o()}).catch(()=>t("error","ä¸Šä¼ å¤±è´¥")).finally(()=>{r.target.value=""})}})]}),children:i?e("div",{class:"text-center",style:"padding:48px; color:var(--text-muted);",children:[e("div",{class:"loading-spinner",style:"margin:0 auto 16px;"}),e("div",{children:"åŠ è½½ä¸­..."})]}):a?e("div",{style:"color:var(--accent-red); padding:16px 0;",children:a}):e("div",{class:"table-container",style:"max-height:520px; overflow:auto;",children:e("table",{class:"table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"ID"}),e("th",{children:"åç§°"}),e("th",{children:"ç‰ˆæœ¬"}),e("th",{children:"æè¿°"}),e("th",{children:"çŠ¶æ€"}),e("th",{children:"æ“ä½œ"})]})}),e("tbody",{children:[n.map(r=>e("tr",{children:[e("td",{children:r.id}),e("td",{children:r.name}),e("td",{children:r.version}),e("td",{children:r.description}),e("td",{children:e("span",{class:`badge ${r.enabled===1?"badge-running":"badge-stopped"}`,children:r.enabled===1?"å¯ç”¨":"ç¦ç”¨"})}),e("td",{class:"flex",style:"gap:8px;",children:[e("button",{class:"btn",onClick:()=>p(r.id,r.enabled===1),children:r.enabled===1?"ç¦ç”¨":"å¯ç”¨"}),e("button",{class:"btn btn-danger",onClick:()=>s(r.id),children:"åˆ é™¤"}),e("a",{class:"btn",href:`/api/drivers/${r.id}/download`,children:"ä¸‹è½½"})]})]},r.id)),!n.length&&e("tr",{children:e("td",{colSpan:6,style:"text-align:center; padding:24px; color:var(--text-muted);",children:"æš‚æ— é©±åŠ¨"})})]})]})})})}const vt=()=>e(pt,{}),le={name:"",type:"http",upload_interval:5e3,config:"{}",enabled:1};function ft(){const t=E(),[n,l]=m([]),[i,c]=m(!0),[a,d]=m(le),o=()=>{c(!0),S("/api/northbound").then(r=>l(r.data||r)).catch(()=>t("error","åŠ è½½åŒ—å‘é…ç½®å¤±è´¥")).finally(()=>c(!1))};$(()=>{o()},[]);const p=r=>{r.preventDefault(),D("/api/northbound",a).then(()=>{t("success","å·²åˆ›å»º"),d(le),o()}).catch(()=>t("error","åˆ›å»ºå¤±è´¥"))},s=(r,h)=>{D(`/api/northbound/${r}/toggle`,{}).then(()=>o()).catch(()=>t("error","åˆ‡æ¢å¤±è´¥"))},_=r=>{confirm("åˆ é™¤è¯¥é…ç½®ï¼Ÿ")&&U(`/api/northbound/${r}`).then(()=>{t("success","å·²åˆ é™¤"),o()}).catch(()=>t("error","åˆ é™¤å¤±è´¥"))};return e("div",{class:"grid",style:"grid-template-columns: 3fr 1.4fr; gap:24px;",children:[e(T,{title:"åŒ—å‘é…ç½®åˆ—è¡¨",children:i?e("div",{class:"text-center",style:"padding:48px; color:var(--text-muted);",children:[e("div",{class:"loading-spinner",style:"margin:0 auto 16px;"}),e("div",{children:"åŠ è½½ä¸­..."})]}):e("div",{class:"table-container",style:"max-height:520px; overflow:auto;",children:e("table",{class:"table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"ID"}),e("th",{children:"åç§°"}),e("th",{children:"ç±»åž‹"}),e("th",{children:"ä¸Šä¼ é—´éš”(ms)"}),e("th",{children:"çŠ¶æ€"}),e("th",{children:"æ“ä½œ"})]})}),e("tbody",{children:[n.map(r=>e("tr",{children:[e("td",{children:r.id}),e("td",{children:r.name}),e("td",{children:r.type}),e("td",{children:r.upload_interval}),e("td",{children:e("span",{class:`badge ${r.enabled===1?"badge-running":"badge-stopped"}`,children:r.enabled===1?"å¯ç”¨":"ç¦ç”¨"})}),e("td",{class:"flex",style:"gap:8px;",children:[e("button",{class:"btn",onClick:()=>s(r.id,r.enabled===1),children:r.enabled===1?"ç¦ç”¨":"å¯ç”¨"}),e("button",{class:"btn btn-danger",onClick:()=>_(r.id),children:"åˆ é™¤"})]})]},r.id)),!n.length&&e("tr",{children:e("td",{colSpan:6,style:"text-align:center; padding:24px; color:var(--text-muted);",children:"æš‚æ— é…ç½®"})})]})]})})}),e(T,{title:"æ–°å¢žåŒ—å‘é…ç½®",children:e("form",{class:"form",onSubmit:p,children:[e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"åç§°"}),e("input",{class:"form-input",value:a.name,onInput:r=>d({...a,name:r.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"ç±»åž‹"}),e("select",{class:"form-select",value:a.type,onChange:r=>d({...a,type:r.target.value}),children:[e("option",{value:"http",children:"HTTP"}),e("option",{value:"mqtt",children:"MQTT"}),e("option",{value:"xunji",children:"å¯»è¿¹"})]})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"ä¸Šä¼ é—´éš” (ms)"}),e("input",{class:"form-input",type:"number",value:a.upload_interval,onInput:r=>d({...a,upload_interval:+r.target.value}),required:!0})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"é…ç½® (JSON)"}),e("textarea",{class:"form-input",rows:6,value:a.config,onInput:r=>d({...a,config:r.target.value}),placeholder:'{ "url": "http://..." }'})]}),e("div",{class:"flex",style:"gap:12px; margin-top:12px;",children:[e("button",{class:"btn btn-primary",type:"submit",style:"flex:1",children:"åˆ›å»º"}),e("button",{class:"btn",type:"button",onClick:()=>d(le),style:"flex:1",children:"é‡ç½®"})]})]})})]})}const mt=()=>e(ft,{}),ie={device_id:"",field_name:"",operator:">",value:0,severity:"warning",message:"",enabled:1};function gt(){const t=E(),[n,l]=m([]),[i,c]=m([]),[a,d]=m(ie),o=()=>{S("/api/thresholds").then(r=>l(r.data||r)).catch(()=>t("error","åŠ è½½é˜ˆå€¼å¤±è´¥"))},p=()=>{S("/api/devices").then(r=>c(r.data||r)).catch(()=>{})};$(()=>{o(),p()},[]);const s=r=>{r.preventDefault(),D("/api/thresholds",a).then(()=>{t("success","é˜ˆå€¼å·²åˆ›å»º"),d(ie),o()}).catch(()=>t("error","åˆ›å»ºå¤±è´¥"))},_=r=>{confirm("åˆ é™¤è¯¥é˜ˆå€¼ï¼Ÿ")&&U(`/api/thresholds/${r}`).then(()=>{t("success","å·²åˆ é™¤"),o()}).catch(()=>t("error","åˆ é™¤å¤±è´¥"))};return e("div",{class:"grid",style:{gridTemplateColumns:"3fr 1.4fr",gap:"24px"},children:[e(T,{title:"é˜ˆå€¼é…ç½®åˆ—è¡¨",children:e("div",{class:"table-container",style:"max-height:520px; overflow:auto;",children:e("table",{class:"table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"ID"}),e("th",{children:"è®¾å¤‡"}),e("th",{children:"å­—æ®µ"}),e("th",{children:"æ¡ä»¶"}),e("th",{children:"ä¸¥é‡æ€§"}),e("th",{children:"çŠ¶æ€"}),e("th",{children:"æ“ä½œ"})]})}),e("tbody",{children:[n.map(r=>e("tr",{children:[e("td",{children:r.id}),e("td",{children:r.device_id}),e("td",{children:r.field_name}),e("td",{children:[r.operator," ",r.value]}),e("td",{children:r.severity}),e("td",{children:e("span",{class:`badge ${r.enabled===1?"badge-running":"badge-stopped"}`,children:r.enabled===1?"å¯ç”¨":"ç¦ç”¨"})}),e("td",{children:e("button",{class:"btn btn-danger",onClick:()=>_(r.id),children:"åˆ é™¤"})})]},r.id)),!n.length&&e("tr",{children:e("td",{colSpan:7,style:"text-align:center; padding:24px; color:var(--text-muted);",children:"æš‚æ— é˜ˆå€¼"})})]})]})})}),e(T,{title:"æ–°å¢žé˜ˆå€¼",children:e("form",{class:"form",onSubmit:s,children:[e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"è®¾å¤‡"}),e("select",{class:"form-select",value:a.device_id,onChange:r=>d({...a,device_id:+r.target.value}),required:!0,children:[e("option",{value:"",children:"é€‰æ‹©è®¾å¤‡"}),i.map(r=>e("option",{value:r.id,children:r.name||r.id},r.id))]})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"å­—æ®µå"}),e("input",{class:"form-input",value:a.field_name,onInput:r=>d({...a,field_name:r.target.value}),required:!0})]}),e("div",{class:"grid",style:{gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"è¿ç®—ç¬¦"}),e("select",{class:"form-select",value:a.operator,onChange:r=>d({...a,operator:r.target.value}),children:[e("option",{value:">",children:"å¤§äºŽ >"}),e("option",{value:">=",children:"å¤§äºŽç­‰äºŽ >="}),e("option",{value:"<",children:"å°äºŽ <"}),e("option",{value:"<=",children:"å°äºŽç­‰äºŽ <="}),e("option",{value:"==",children:"ç­‰äºŽ =="})]})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"é˜ˆå€¼"}),e("input",{class:"form-input",type:"number",value:a.value,onInput:r=>d({...a,value:+r.target.value}),required:!0})]})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"ä¸¥é‡ç¨‹åº¦"}),e("select",{class:"form-select",value:a.severity,onChange:r=>d({...a,severity:r.target.value}),children:[e("option",{value:"warning",children:"warning"}),e("option",{value:"critical",children:"critical"})]})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"æŠ¥è­¦æ¶ˆæ¯"}),e("input",{class:"form-input",value:a.message,onInput:r=>d({...a,message:r.target.value})})]}),e("div",{class:"flex",style:{gap:"12px",marginTop:"12px"},children:[e("button",{class:"btn btn-primary",type:"submit",style:{flex:1},children:"åˆ›å»º"}),e("button",{class:"btn",type:"button",onClick:()=>d(ie),style:{flex:1},children:"é‡ç½®"})]})]})})]})}const bt=()=>e(gt,{});function yt(){const t=E(),[n,l]=m([]),[i,c]=m(!0),a=()=>{c(!0),S("/api/alarms").then(o=>l(o.data||o)).catch(()=>t("error","åŠ è½½æŠ¥è­¦å¤±è´¥")).finally(()=>c(!1))};$(()=>{a()},[]);const d=o=>{D(`/api/alarms/${o}/acknowledge`,{}).then(()=>{t("success","å·²ç¡®è®¤"),a()}).catch(()=>t("error","ç¡®è®¤å¤±è´¥"))};return e(T,{title:"æŠ¥è­¦æ—¥å¿—",extra:e("button",{class:"btn",onClick:a,children:"åˆ·æ–°"}),children:i?e("div",{class:"text-center",style:"padding:48px; color:var(--text-muted);",children:[e("div",{class:"loading-spinner",style:"margin:0 auto 16px;"}),e("div",{children:"åŠ è½½ä¸­..."})]}):e("div",{class:"table-container",style:"max-height:520px; overflow:auto;",children:e("table",{class:"table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"ID"}),e("th",{children:"è®¾å¤‡"}),e("th",{children:"å­—æ®µ"}),e("th",{children:"å®žé™…å€¼"}),e("th",{children:"é˜ˆå€¼"}),e("th",{children:"æ¡ä»¶"}),e("th",{children:"ä¸¥é‡æ€§"}),e("th",{children:"æ—¶é—´"}),e("th",{children:"æ“ä½œ"})]})}),e("tbody",{children:[n.map(o=>e("tr",{children:[e("td",{children:o.id}),e("td",{children:o.device_id}),e("td",{children:o.field_name}),e("td",{children:o.actual_value}),e("td",{children:o.threshold_value}),e("td",{children:o.operator}),e("td",{children:o.severity}),e("td",{children:o.triggered_at}),e("td",{children:e("button",{class:"btn",onClick:()=>d(o.id),children:"ç¡®è®¤"})})]},o.id)),!n.length&&e("tr",{children:e("td",{colSpan:9,style:"text-align:center; padding:24px; color:var(--text-muted);",children:"æš‚æ— æŠ¥è­¦"})})]})]})})})}const xt=()=>e(yt,{});function kt(){const t=E(),[n,l]=m([]),[i,c]=m(""),[a,d]=m([]),[o,p]=m(!1);return $(()=>{S("/api/devices").then(s=>{const _=s.data||s;l(_),_.length&&c(String(_[0].id))}).catch(()=>t("error","åŠ è½½è®¾å¤‡å¤±è´¥"))},[]),$(()=>{i&&(p(!0),S(`/api/data/points/${i}`).then(s=>{d(s.data||s)}).catch(()=>t("error","åŠ è½½å®žæ—¶æ•°æ®å¤±è´¥")).finally(()=>p(!1)))},[i]),e(T,{title:"å®žæ—¶æ•°æ®",extra:e("select",{class:"form-select",value:i,onChange:s=>c(s.target.value),children:n.map(s=>e("option",{value:s.id,children:s.name||s.id},s.id))}),children:o?e("div",{style:"padding:24px;",children:"åŠ è½½ä¸­..."}):e("div",{class:"table-container",style:"max-height:520px; overflow:auto;",children:e("table",{class:"table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"æ—¶é—´"}),e("th",{children:"è®¾å¤‡"}),e("th",{children:"å­—æ®µ"}),e("th",{children:"å€¼"})]})}),e("tbody",{children:[a.map(s=>e("tr",{children:[e("td",{children:s.collected_at||s.CollectedAt||""}),e("td",{children:s.device_name||""}),e("td",{children:s.field_name||""}),e("td",{children:s.value})]},s.id||`${s.device_id}-${s.collected_at}-${s.field_name}`)),!a.length&&e("tr",{children:e("td",{colSpan:4,style:"text-align:center; padding:24px; color:var(--text-muted);",children:"æš‚æ— æ•°æ®"})})]})]})})})}function wt(){const t=E(),[n,l]=m([]),[i,c]=m(""),[a,d]=m([]),[o,p]=m(!1);$(()=>{S("/api/devices").then(_=>{const r=_.data||_;l(r),r.length&&c(String(r[0].id))}).catch(()=>t("error","åŠ è½½è®¾å¤‡å¤±è´¥"))},[]);const s=()=>{i&&(p(!0),S(`/api/data/history?device_id=${i}`).then(_=>{d(_.data||_)}).catch(()=>t("error","åŠ è½½åŽ†å²æ•°æ®å¤±è´¥")).finally(()=>p(!1)))};return $(()=>{s()},[i]),e(T,{title:"åŽ†å²æ•°æ®",extra:e("select",{class:"form-select",value:i,onChange:_=>c(_.target.value),children:n.map(_=>e("option",{value:_.id,children:_.name||_.id},_.id))}),children:o?e("div",{style:"padding:24px;",children:"åŠ è½½ä¸­..."}):e("div",{class:"table-container",style:"max-height:520px; overflow:auto;",children:e("table",{class:"table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"æ—¶é—´"}),e("th",{children:"è®¾å¤‡"}),e("th",{children:"å­—æ®µ"}),e("th",{children:"å€¼"})]})}),e("tbody",{children:[a.map(_=>e("tr",{children:[e("td",{children:_.collected_at||_.CollectedAt||""}),e("td",{children:_.device_name||""}),e("td",{children:_.field_name||""}),e("td",{children:_.value})]},`${_.device_id}-${_.field_name}-${_.collected_at}`)),!a.length&&e("tr",{children:e("td",{colSpan:4,style:"text-align:center; padding:24px; color:var(--text-muted);",children:"æš‚æ— æ•°æ®"})})]})]})})})}const ae={name:"",product_key:"",device_key:"",storage_days:30,enabled:1};function Ct(){const t=E(),[n,l]=m([]),[i,c]=m(ae),[a,d]=m(null),[o,p]=m(!0),[s,_]=m(!1),r=()=>{p(!0),S("/api/storage").then(f=>l(f.data||f)).catch(()=>t("error","åŠ è½½å­˜å‚¨ç­–ç•¥å¤±è´¥")).finally(()=>p(!1))};$(()=>{r()},[]);const h=f=>{f.preventDefault();const k={...i,storage_days:Number(i.storage_days),enabled:Number(i.enabled)};(a?Re(`/api/storage/${a}`,k):D("/api/storage",k)).then(()=>{t("success",a?"ç­–ç•¥å·²æ›´æ–°":"ç­–ç•¥å·²åˆ›å»º"),c(ae),d(null),r()}).catch(()=>t("error","ä¿å­˜å¤±è´¥"))},v=f=>{confirm("åˆ é™¤è¯¥ç­–ç•¥ï¼Ÿ")&&U(`/api/storage/${f}`).then(()=>{t("success","å·²åˆ é™¤"),r()}).catch(()=>t("error","åˆ é™¤å¤±è´¥"))};return e("div",{class:"grid",style:"grid-template-columns: 3fr 1.4fr; gap:24px;",children:[e(T,{title:"å­˜å‚¨ç­–ç•¥",extra:e("button",{class:"btn",onClick:()=>{_(!0),D("/api/storage/run",{}).then(f=>{var k;return t("success",`å·²æ¸…ç† ${f.deleted_count??((k=f.data)==null?void 0:k.deleted_count)??0} æ¡`)}).catch(()=>t("error","æ¸…ç†å¤±è´¥")).finally(()=>_(!1))},disabled:s,children:s?"æ¸…ç†ä¸­...":"ç«‹å³æŒ‰ç­–ç•¥æ¸…ç†"}),children:o?e("div",{class:"text-center",style:"padding:48px; color:var(--text-muted);",children:[e("div",{class:"loading-spinner",style:"margin:0 auto 16px;"}),e("div",{children:"åŠ è½½ä¸­..."})]}):e("div",{class:"table-container",style:"max-height:520px; overflow:auto;",children:e("table",{class:"table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"ID"}),e("th",{children:"åç§°"}),e("th",{children:"ProductKey"}),e("th",{children:"DeviceKey"}),e("th",{children:"å­˜å‚¨å¤©æ•°"}),e("th",{children:"çŠ¶æ€"}),e("th",{children:"æ“ä½œ"})]})}),e("tbody",{children:[n.map(f=>e("tr",{children:[e("td",{children:f.id}),e("td",{children:f.name}),e("td",{children:f.product_key||"-"}),e("td",{children:f.device_key||"-"}),e("td",{children:f.storage_days}),e("td",{children:e("span",{class:`badge ${f.enabled===1?"badge-running":"badge-stopped"}`,children:f.enabled===1?"å¯ç”¨":"ç¦ç”¨"})}),e("td",{class:"flex",style:"gap:8px;",children:[e("button",{class:"btn",onClick:()=>{d(f.id),c({name:f.name,product_key:f.product_key,device_key:f.device_key,storage_days:f.storage_days,enabled:f.enabled})},children:"ç¼–è¾‘"}),e("button",{class:"btn btn-danger",onClick:()=>v(f.id),children:"åˆ é™¤"})]})]},f.id)),!n.length&&e("tr",{children:e("td",{colSpan:7,style:"text-align:center; padding:24px; color:var(--text-muted);",children:"æš‚æ— ç­–ç•¥"})})]})]})})}),e(T,{title:a?"ç¼–è¾‘å­˜å‚¨ç­–ç•¥":"æ–°å¢žå­˜å‚¨ç­–ç•¥",children:e("form",{class:"form",onSubmit:h,children:[e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"åç§°"}),e("input",{class:"form-input",value:i.name,onInput:f=>c({...i,name:f.target.value}),required:!0})]}),e("div",{class:"grid",style:"grid-template-columns: repeat(2, 1fr); gap:12px;",children:[e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"ProductKey"}),e("input",{class:"form-input",value:i.product_key,onInput:f=>c({...i,product_key:f.target.value})})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"DeviceKey"}),e("input",{class:"form-input",value:i.device_key,onInput:f=>c({...i,device_key:f.target.value})})]})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"å­˜å‚¨å¤©æ•°"}),e("input",{class:"form-input",type:"number",value:i.storage_days,onInput:f=>c({...i,storage_days:+f.target.value}),min:"1"})]}),e("div",{class:"form-group",children:[e("label",{class:"form-label",children:"çŠ¶æ€"}),e("select",{class:"form-select",value:i.enabled,onChange:f=>c({...i,enabled:+f.target.value}),children:[e("option",{value:1,children:"å¯ç”¨"}),e("option",{value:0,children:"ç¦ç”¨"})]})]}),e("div",{class:"flex",style:"gap:12px; margin-top:12px;",children:[e("button",{class:"btn btn-primary",type:"submit",style:"flex:1",children:a?"ä¿å­˜":"åˆ›å»º"}),e("button",{class:"btn",type:"button",style:"flex:1",onClick:()=>{c(ae),d(null)},children:"é‡ç½®"})]})]})})]})}const $t=()=>e(Ct,{});function St(){const[t,n]=rt(),[l,i]=m(!0);return $(()=>{S("/api/status").then(()=>i(!0)).catch(()=>{i(!1),window.location.href="/login"})},[]),e("div",{children:[t!=="/login"&&e(at,{path:t,onNav:n}),e("main",{class:"container",style:"padding-top:32px; padding-bottom:32px;",children:(()=>{switch(!0){case t==="/":return e(Pe,{});case t.startsWith("/resources"):return e(ht,{});case t.startsWith("/devices"):return e(_t,{});case t.startsWith("/drivers"):return e(vt,{});case t.startsWith("/northbound"):return e(mt,{});case t.startsWith("/storage"):return e($t,{});case t.startsWith("/thresholds"):return e(bt,{});case t.startsWith("/alarms"):return e(xt,{});case t.startsWith("/realtime"):return e(kt,{});case t.startsWith("/history"):return e(wt,{});default:return e(Pe,{})}})()}),e("div",{id:"toast-container",class:"toast-container"})]})}const Tt=t=>e("span",{class:`badge ${t?"badge-running":"badge-stopped"}`,children:t?"é‡‡é›†ä¸­":"åœæ­¢é‡‡é›†"}),It=()=>e("div",{class:"text-center",style:"padding:48px; color:var(--text-muted);",children:[e("div",{class:"loading-spinner",style:"margin:0 auto 16px;"}),e("div",{children:"åŠ è½½ä¸­..."})]});function Dt(){const[t,n]=m(null),[l,i]=m(!0),[c,a]=m(""),[d,o]=m(""),p=()=>{i(!0),fetch("/api/devices").then(h=>h.json()).then(h=>{n(h.data||[]),a("")}).catch(()=>a("åŠ è½½å¤±è´¥")).finally(()=>i(!1))};$(()=>{p()},[]),$(()=>{const h=()=>p();return window.addEventListener("island:refresh",h),()=>window.removeEventListener("island:refresh",h)},[]);const s=he(()=>{if(!t)return[];if(!d.trim())return t;const h=d.toLowerCase();return t.filter(v=>[v.name,v.device_address,v.driver_type,v.driver_name].filter(Boolean).some(y=>y.toLowerCase().includes(h)))},[t,d]),_=h=>{fetch(`/api/devices/${h}/toggle`,{method:"POST"}).then(v=>v.json()).then(()=>p()).catch(()=>showToast("error","åˆ‡æ¢å¤±è´¥","è¯·é‡è¯•"))},r=h=>{confirm("ç¡®å®šåˆ é™¤?")&&fetch(`/api/devices/${h}`,{method:"DELETE"}).then(v=>v.json()).then(()=>p()).catch(()=>showToast("error","åˆ é™¤å¤±è´¥","è¯·é‡è¯•"))};return l?e(It,{}):c?e("div",{style:"padding:16px; color:var(--accent-red);",children:c}):e("div",{class:"card",style:"background: transparent; border: none; padding:0;",children:[e("div",{class:"card-header",style:"padding:0 0 12px;",children:e("div",{class:"flex gap-3",style:"align-items:center;",children:[e("input",{class:"form-input",style:"max-width:260px;",placeholder:"æœç´¢è®¾å¤‡/åœ°å€/é©±åŠ¨",value:d,onInput:h=>o(h.target.value)}),e("button",{class:"btn",onClick:p,children:"åˆ·æ–°"})]})}),e("div",{class:"table-container",style:"max-height:480px; overflow:auto;",children:e("table",{class:"table",children:[e("thead",{children:e("tr",{children:[e("th",{children:"ID"}),e("th",{children:"åç§°"}),e("th",{children:"é©±åŠ¨ç±»åž‹"}),e("th",{children:"é©±åŠ¨"}),e("th",{children:"åœ°å€"}),e("th",{children:"å‘¨æœŸ(ms)"}),e("th",{children:"çŠ¶æ€"}),e("th",{style:"width:180px;",children:"æ“ä½œ"})]})}),e("tbody",{children:[s.map(h=>e("tr",{children:[e("td",{children:h.id}),e("td",{children:h.name}),e("td",{children:h.driver_type}),e("td",{children:h.driver_name||(h.driver_id?`é©±åŠ¨ #${h.driver_id}`:"-")}),e("td",{children:h.device_address}),e("td",{children:h.collect_interval}),e("td",{children:Tt(h.enabled===1)}),e("td",{class:"flex",style:"gap:8px;",children:[e("button",{class:`btn ${h.enabled===1?"btn-danger":"btn-success"}`,onClick:()=>_(h.id),children:h.enabled===1?"åœæ­¢":"å¯åŠ¨"}),e("button",{class:"btn btn-danger",onClick:()=>r(h.id),children:"åˆ é™¤"})]})]},h.id)),!s.length&&e("tr",{children:e("td",{colSpan:8,style:"text-align:center; padding:24px; color:var(--text-muted);",children:"æš‚æ— æ•°æ®"})})]})]})})]})}const Et={devices:Dt};document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("app-root");if(t){ke(e(St,{}),t);return}document.querySelectorAll("[data-preact-island]").forEach(n=>{const l=n.getAttribute("data-preact-island"),i=Et[l];if(!i)return;const c=n.dataset.props?JSON.parse(n.dataset.props):{};ke(e(i,{...c}),n)})});
